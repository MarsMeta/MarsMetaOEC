{"version":3,"sources":["hooks/useInterval.js","context/Web3Context.js","utils/manageNumbers.js","components/Menu/TopBar.jsx","components/Auxillary/ImgButton.jsx","components/Menu/SideBar.jsx","components/Menu/BottomBar.jsx","components/Modals/index.jsx","components/MiniModals/index.jsx","components/Modals/Profile.jsx","components/Auxillary/Card.jsx","utils/getLandRate.js","components/Auxillary/LandPreview.jsx","components/Modals/Plots.jsx","utils/factoriesList.js","components/Modals/Factory.jsx","components/Modals/Resources.jsx","context/GameContext.js","components/Menu/Docks.jsx","components/MiniMenu.jsx","components/MiniModals/Add.jsx","components/MiniModals/Info.jsx","components/MiniModals/Remove.jsx","components/MiniModals/Buy.jsx","components/MiniModals/Sell.jsx","components/Menu/index.jsx","components/GameComponents.jsx","components/LandGrid.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","contractAddresses","Web3Context","createContext","web3","undefined","account","getWeb3ModalProvider","disconnectProvider","balances","mlo","fe","au","ti","cu","al","providerName","GET_USER","gql","GET_USER_LANDS","web3Modal","Portis","Web3Modal","network","chainId","nodeUrl","cacheProvider","theme","Web3ContextProvider","props","useState","provider","setProvider","setProviderName","gameContract","setGameContract","Web3","setWeb3","setBalances","setAccount","a","_portis","showPortis","connect","_provider","currentProvider","eth","getAccounts","accounts","toLowerCase","Contract","gameInterface","abi","on","console","log","info","error","useLazyQuery","loadUserData","userData","data","variables","userId","loadUserLandData","userLandData","user","useSpring","landPrice","setLandPrice","getLandPrice","useCallback","methods","call","price","start","parseFloat","toFixed","buyLand","x","y","mintLand","send","from","Provider","value","buyFactory","name","type","mintFactory","changeFactoryName","fid","removeFactory","placeFactory","transferLand","to","transferFactory","claimAll","getUserLands","lastClaimed","lastclaimed","factories","clearCachedProvider","children","manageNumbers","n","Math","floor","toString","numberToColorHsl","i","min","max","ratio","rgb","h","s","l","r","g","b","hue2rgb","p","q","t","round","hslToRgb","TopBar","useContext","borderColor","background","width","config","molasses","borderStyles","borderStylesApi","stop","hoursPassedPercent","Date","now","parseInt","random","className","onClick","div","style","ImgButton","src","alt","dataname","disabled","draggable","SideBar","handleClick","avatar","e","BottomBar","xy","setModal","span","Modal","setIsOpen","modalVisible","checkIfClickedOutside","modalRef","contains","target","document","addEventListener","removeEventListener","ref","MiniModal","setIsMiniModal","Profile","setAvatar","isSelectOpen","setIsSelectOpen","Card","getLandRate","seed","rate","LandPreview","cellData","image","mod","getImage","factory","top","left","Plots","page","setPage","lands","map","land","getLandRates","factoriesList","produce","rates","Factory","efficiency","title","Resources","Object","keys","resourceList","key","_","symbol","length","initWindowHeight","window","innerHeight","initWindowWidth","innerWidth","initCellSize","initGridSize","initLocalCentreDelta","localStorage","getItem","split","v","initChunkCentre","centredGridOffsets","GameContext","centreDelta","chunkCentre","miniMenuStyles","backgroundColor","cellSize","gridData","miniMenuApi","closeMiniMenu","selectedBlock","handlePlotClick","handleMiniClick","dragBind","teleport","GameContextProvider","windowHeight","windowWidth","gridSize","paddingSize","localTop","localLeft","localCentreDelta","calculateCentre","isOutOfBounds","padding","setChunkCentre","loading","setLoading","setSelectedBlock","setItem","restVelocity","slow","centreApi","height","block","useDrag","movement","mx","my","tap","last","goal","set","handleDragEnd","newCentreDelta","initial","get","draggedTop","draggedLeft","idle","sleep","displacement","newOffsets","curChunkCentre","newChunkCentre","loadGridFromCentre","GET_LANDS_QUERY","loadGrid","x1","x2","y1","y2","grid","setGrid","newGrid","cell","menuCentre","calculateBlockOffsets","ms","Promise","resolve","setTimeout","MemoisedBottomBar","memo","MemoisedTopBar","MemoisedSideBar","Docks","setModalVisible","setX","setY","isTeleModal","setIsTeleModal","modal","iron","gold","copper","titanium","aluminium","onChange","Number","placeholder","preventDefault","isNaN","MiniMenu","setModalType","setIsModalOpen","styles","owner","MemoMiniMenu","Add","setFid","Info","slice","getLandrate","Remove","Buy","Sell","Menu","isModalOpen","Plot","owned","Cloud","MemoPlot","MemoCloud","LandGrid","templateGridArray","Array","cloud","row","row_ind","col_ind","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","client","ApolloClient","uri","cache","InMemoryCache","defaultOptions","watchQuery","fetchPolicy","errorPolicy","query","ReactDOM","render","StrictMode","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.7b270c00.chunk.js","sourcesContent":["import { useRef, useEffect } from \"react\";\n\nfunction useInterval(callback, delay) {\n\tconst savedCallback = useRef();\n\tuseEffect(() => {\n\t\tsavedCallback.current = callback;\n\t}, [callback]);\n\tuseEffect(() => {\n\t\tfunction tick() {\n\t\t\tsavedCallback.current();\n\t\t}\n\t\tif (delay !== null) {\n\t\t\tlet id = setInterval(tick, delay);\n\t\t\treturn () => clearInterval(id);\n\t\t}\n\t}, [delay]);\n}\n\nexport default useInterval;\n","import { useState, createContext, useEffect, useCallback } from \"react\";\n// import useWeb3 from \"../hooks/useWeb3\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\nimport Portis from \"@portis/web3\";\nimport gameInterface from \"../contracts/MarsmelloGame.json\";\nimport useInterval from \"../hooks/useInterval\";\nimport { useSpring } from \"@react-spring/web\";\n\nconst contractAddresses = {\n\tgame: \"0x41e418178a89F94968699ac9447836b04A349fC9\",\n};\n\nconst Web3Context = createContext({\n\tweb3: undefined,\n\taccount: undefined,\n\tgetWeb3ModalProvider: () => {},\n\tdisconnectProvider: () => {},\n\tbalances: { mlo: 0, fe: 0, au: 0, ti: 0, cu: 0, al: 0 },\n\tproviderName: \"none\",\n});\n\nconst GET_USER = gql`\n\tquery GetUser($userId: String!) {\n\t\tuser(id: $userId) {\n\t\t\tmlo\n\t\t\tfe\n\t\t\tal\n\t\t\tcu\n\t\t\tau\n\t\t\tti\n\t\t\tlastclaimed\n\t\t\tfactories {\n\t\t\t\tid\n\t\t\t\tx\n\t\t\t\ty\n\t\t\t\tname\n\t\t\t\ttype\n\t\t\t\tefficiency\n\t\t\t}\n\t\t\tlands {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n`;\nconst GET_USER_LANDS = gql`\n\tquery GetUserLands($userId: String!) {\n\t\tuser(id: $userId) {\n\t\t\tlands {\n\t\t\t\tid\n\t\t\t\tseed\n\t\t\t\tfactory {\n\t\t\t\t\tid\n\t\t\t\t\ttype\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t\tx\n\t\t\t\ty\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst providerOptions = {\n\tportis: {\n\t\tpackage: Portis,\n\t\toptions: {\n\t\t\t// id: \"4d7e97a1-076d-46e5-b777-d0c5b92d000f\", // Portis DAPP ID\n\t\t\tid: \"4b5b1582-418d-4d8a-887c-48a40b69b241\", // Production Portis DAPP ID\n\t\t\tinfuraId: \"006a04f7400849fb8689353c7da198a0\",\n\t\t},\n\t},\n};\nconst web3Modal = new Web3Modal({\n\t// network: \"mainnet\",\n\tnetwork: { chainId: 256, nodeUrl: \"https://http-testnet.hecochain.com\" },\n\t// network: { chainId: 1377, nodeUrl: \"http://127.0.0.1:9545\" },\n\t// network: { chainId: 1377, nodeUrl: \"http://127.0.0.1:8545\" },\n\tcacheProvider: true,\n\ttheme: \"dark\",\n});\nconst Web3ContextProvider = (props) => {\n\tconst decimals = 18;\n\tconst [provider, setProvider] = useState();\n\tconst [providerName, setProviderName] = useState(\"None\");\n\tconst [gameContract, setGameContract] = useState();\n\tconst [web3, setWeb3] = useState(new Web3());\n\tconst [balances, setBalances] = useState({});\n\tconst [account, setAccount] = useState();\n\n\t// Toggle Modal And Ask for Connection\n\tconst getWeb3ModalProvider = async () => {\n\t\tif (provider) {\n\t\t\tif (provider?._portis) provider._portis.showPortis();\n\t\t} else {\n\t\t\tconst _provider = await web3Modal.connect();\n\t\t\tsetWeb3(new Web3(_provider));\n\t\t\tsetProvider(_provider);\n\t\t}\n\t};\n\tconst disconnectProvider = () => {\n\t\tconsole.log(\"Disconnect\");\n\t\tsetAccount(undefined);\n\t\tsetProvider(undefined);\n\t\tsetProviderName(\"None\");\n\t\tsetWeb3(new Web3());\n\t\tweb3Modal.clearCachedProvider();\n\t};\n\n\tuseEffect(() => {\n\t\tif (web3.currentProvider)\n\t\t\t(async () => {\n\t\t\t\tconst accounts = await web3.eth.getAccounts();\n\t\t\t\tsetAccount(accounts[0].toLowerCase());\n\t\t\t})();\n\n\t\tif (!!provider) {\n\t\t\tif (provider?._portis) {\n\t\t\t\tsetProviderName(\"portis\");\n\t\t\t\tprovider._portis.showPortis();\n\t\t\t} else setProviderName(\"metamask\");\n\n\t\t\tsetGameContract(new web3.eth.Contract(gameInterface.abi, contractAddresses.game));\n\n\t\t\t// console.log(\"provider\", provider);\n\t\t\t// Subscribe to accounts change\n\t\t\tprovider.on(\"accountsChanged\", async (accounts) => {\n\t\t\t\tconsole.log(\"Provider Listener: Account Change\");\n\t\t\t\tsetAccount(accounts[0].toLowerCase());\n\t\t\t});\n\n\t\t\t// Subscribe to chainId change\n\t\t\tprovider.on(\"chainChanged\", (chainId) => {\n\t\t\t\tconsole.log(\"Provider Listener: Chain Change\", chainId);\n\t\t\t});\n\n\t\t\t// Subscribe to provider connection\n\t\t\tprovider.on(\"connect\", (info) => {\n\t\t\t\tconsole.log(\"Provider Listener: Connected\");\n\t\t\t});\n\n\t\t\t// Subscribe to provider disconnection\n\t\t\tprovider.on(\"disconnect\", (error) => {\n\t\t\t\tconsole.log(\"Provider Listener: Disconnect\", error);\n\t\t\t\tsetAccount();\n\t\t\t});\n\t\t}\n\t}, [provider, web3]);\n\n\tconst [loadUserData, { data: userData }] = useLazyQuery(GET_USER);\n\tconst [loadUserLandData, { data: userLandData }] = useLazyQuery(GET_USER_LANDS, {\n\t\tvariables: { userId: account },\n\t});\n\n\t// Account Changed Hook\n\tuseEffect(() => {\n\t\tconsole.log(\"==> Changed account\", account);\n\t\tif (account) loadUserData({ variables: { userId: account } });\n\t}, [account]);\n\n\tuseInterval(() => {\n\t\tif (account) loadUserData({ variables: { userId: account } });\n\t}, 10000);\n\n\tuseEffect(() => {\n\t\tconsole.log(userData);\n\t\tsetBalances({\n\t\t\tmlo: userData?.user?.mlo,\n\t\t\tfe: userData?.user?.fe,\n\t\t\tal: userData?.user?.al,\n\t\t\tau: userData?.user?.au,\n\t\t\tcu: userData?.user?.cu,\n\t\t\tti: userData?.user?.ti,\n\t\t});\n\t}, [userData]);\n\n\tconst [{ landPrice }, setLandPrice] = useSpring(() => ({\n\t\tlandPrice: 0,\n\t}));\n\tconst getLandPrice = useCallback(async () => {\n\t\tconst price = await gameContract.methods.getLandPrice().call();\n\t\t// console.log(price);\n\t\tsetLandPrice.start({ landPrice: parseFloat((price / 10 ** decimals).toFixed(2)) });\n\t}, [gameContract]);\n\n\tconst buyLand = useCallback(\n\t\t(x, y) => {\n\t\t\tif (x && y) return gameContract.methods.mintLand(x, y).send({ from: account });\n\t\t},\n\t\t[gameContract, account]\n\t);\n\n\tconst buyFactory = (name, type) => {\n\t\treturn gameContract.methods.mintFactory(name, type).send({ from: account });\n\t};\n\n\tconst changeFactoryName = (fid, name) => {\n\t\treturn gameContract.methods.changeFactoryName(fid, name).send({ from: account });\n\t};\n\n\tconst removeFactory = (fid) => {\n\t\treturn gameContract.methods.removeFactory(fid).send({ from: account });\n\t};\n\n\tconst placeFactory = (fid, x, y) => {\n\t\treturn gameContract.methods.placeFactory(fid, x, y).send({ from: account });\n\t};\n\n\tconst transferLand = (to, x, y) => {\n\t\treturn gameContract.methods.transferLand(to, x, y).send({ from: account });\n\t};\n\n\tconst transferFactory = (to, fid) => {\n\t\treturn gameContract.methods.transferFactory(to, fid).send({ from: account });\n\t};\n\n\tconst claimAll = () => {\n\t\treturn gameContract.methods.claimAll().send({ from: account });\n\t};\n\n\treturn (\n\t\t<Web3Context.Provider\n\t\t\tvalue={{\n\t\t\t\taccount,\n\t\t\t\tprovider,\n\t\t\t\tproviderName,\n\t\t\t\tuserLandData,\n\t\t\t\tlandPrice,\n\t\t\t\tbuyFactory,\n\t\t\t\tbuyLand,\n\t\t\t\tchangeFactoryName,\n\t\t\t\tremoveFactory,\n\t\t\t\tplaceFactory,\n\t\t\t\ttransferLand,\n\t\t\t\ttransferFactory,\n\t\t\t\tclaimAll,\n\t\t\t\tgetLandPrice,\n\t\t\t\tloadUserLandData,\n\t\t\t\tuserData: userData?.user,\n\t\t\t\tgetUserLands: {},\n\t\t\t\tlastClaimed: userData?.user?.lastclaimed,\n\t\t\t\tfactories: userData?.user?.factories,\n\t\t\t\tbalances,\n\t\t\t\tgetWeb3ModalProvider,\n\t\t\t\tdisconnectProvider,\n\t\t\t}}>\n\t\t\t{props.children}\n\t\t</Web3Context.Provider>\n\t);\n};\n\nexport { Web3Context, Web3ContextProvider };\n","const manageNumbers = (n) => {\n\tif (!n) return 0;\n\tconst decimals = 18;\n\tn /= 10 ** decimals;\n\t// console.log(\"balance: \", n);\n\tif (n / 1000000000 >= 1) {\n\t\treturn `${Math.floor(n / 100000000) / 10}B`;\n\t} else if (n / 1000000 >= 1) {\n\t\treturn `${Math.floor(n / 100000) / 10}M`;\n\t} else if (n / 1000 >= 1) {\n\t\treturn `${Math.floor(n / 100) / 10}K`;\n\t} else {\n\t\treturn (Math.floor(n * 10) / 10).toString();\n\t}\n};\n\nexport default manageNumbers;\n","import { useSpring, animated, config } from \"@react-spring/web\";\nimport { useContext } from \"react\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport useInterval from \"../../hooks/useInterval\";\nimport manageNumbers from \"../../utils/manageNumbers\";\n\nfunction hslToRgb(h, s, l) {\n\tlet r, g, b;\n\n\tif (s === 0) {\n\t\tr = g = b = l; // achromatic\n\t} else {\n\t\tlet hue2rgb = function hue2rgb(p, q, t) {\n\t\t\tif (t < 0) t += 1;\n\t\t\tif (t > 1) t -= 1;\n\t\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\n\t\t\tif (t < 1 / 2) return q;\n\t\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n\t\t\treturn p;\n\t\t};\n\n\t\tlet q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\tlet p = 2 * l - q;\n\t\tr = hue2rgb(p, q, h + 1 / 3);\n\t\tg = hue2rgb(p, q, h);\n\t\tb = hue2rgb(p, q, h - 1 / 3);\n\t}\n\n\treturn [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n}\nfunction numberToColorHsl(i, min, max) {\n\tlet ratio = i;\n\tif (min > 0 || max < 1) {\n\t\tif (i < min) {\n\t\t\tratio = 0;\n\t\t} else if (i > max) {\n\t\t\tratio = 1;\n\t\t} else {\n\t\t\tlet range = max - min;\n\t\t\tratio = (i - min) / range;\n\t\t}\n\t}\n\tlet hue = (ratio * 1.2) / 3.6;\n\tlet rgb = hslToRgb(hue, 1, 0.5);\n\n\treturn \"rgb(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \")\";\n}\nconst randomBetweenFiftyHun = () => {\n\treturn Math.round(Math.random() * 100);\n};\n\nconst TopBar = () => {\n\tconst { account, getWeb3ModalProvider, balances, lastClaimed } = useContext(Web3Context);\n\tconst [borderStyles, borderStylesApi] = useSpring(() => ({\n\t\tborderColor: numberToColorHsl(50, 0.3, 0.7),\n\t\tbackground: numberToColorHsl(50, 0.3, 0.7),\n\t\twidth: \"50%\",\n\t\tconfig: config.molasses,\n\t}));\n\n\tuseInterval(() => {\n\t\tif (!account) {\n\t\t\tborderStylesApi.stop();\n\t\t\tconst random = randomBetweenFiftyHun();\n\t\t\tborderStylesApi.start({\n\t\t\t\tborderColor: numberToColorHsl((100 - random) / 100, 0.3, 0.7),\n\t\t\t\tbackground: numberToColorHsl((100 - random) / 100, 0.3, 0.7),\n\t\t\t\twidth: `${Math.floor(random / 2 + 50)}%`,\n\t\t\t});\n\t\t} else {\n\t\t\tif (lastClaimed) {\n\t\t\t\tborderStylesApi.stop();\n\t\t\t\tconst hoursPassedPercent = (Date.now() - parseInt(lastClaimed) * 1000) / 86400 / 24;\n\t\t\t\tborderStylesApi.start({\n\t\t\t\t\tborderColor: numberToColorHsl((100 - hoursPassedPercent) / 100, 0.3, 0.7),\n\t\t\t\t\tbackground: numberToColorHsl((100 - hoursPassedPercent) / 100, 0.3, 0.7),\n\t\t\t\t\twidth: `${Math.floor(hoursPassedPercent / 2 + 50)}%`,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tborderStylesApi.start({\n\t\t\t\t\tborderColor: numberToColorHsl(100, 0.3, 0.7),\n\t\t\t\t\tbackground: numberToColorHsl(100, 0.3, 0.7),\n\t\t\t\t\twidth: `${Math.floor(50)}%`,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, 5000);\n\n\treturn (\n\t\t<div className=\"topbar bar\">\n\t\t\t<div className=\"item Fe\">\n\t\t\t\t<div className=\"value\">\n\t\t\t\t\t<h1>{manageNumbers(balances?.fe)}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"key\">\n\t\t\t\t\t<h3>Fe</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"item Au\">\n\t\t\t\t<div className=\"value\">\n\t\t\t\t\t<h1>{manageNumbers(balances?.au)}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"key\">\n\t\t\t\t\t<h3>Au</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"item Ti\">\n\t\t\t\t<div className=\"value\">\n\t\t\t\t\t<h1>{manageNumbers(balances?.ti)}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"key\">\n\t\t\t\t\t<h3>Ti</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"item Cu\">\n\t\t\t\t<div className=\"value\">\n\t\t\t\t\t<h1>{manageNumbers(balances?.cu)}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"key\">\n\t\t\t\t\t<h3>Cu</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"item Al\">\n\t\t\t\t<div className=\"value\">\n\t\t\t\t\t<h1>{manageNumbers(balances?.al)}</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"key\">\n\t\t\t\t\t<h3>Al</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={`holding ${!account ? \"not-\" : \"\"}connected`} onClick={getWeb3ModalProvider}>\n\t\t\t\t{!account ? (\n\t\t\t\t\t<span className=\"cta\">Connect Wallet</span>\n\t\t\t\t) : (\n\t\t\t\t\t<span className=\"cta\">\n\t\t\t\t\t\t<span className=\"bal\">Balance</span>\n\t\t\t\t\t\t<span className=\"main\">\n\t\t\t\t\t\t\t{manageNumbers(balances?.mlo)}\n\t\t\t\t\t\t\t<span>MLO</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"claim-progress\">\n\t\t\t\t<animated.div className=\"progress\" style={borderStyles}></animated.div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TopBar;\n","import React from \"react\";\nimport \"../../styles/imgbutton.scss\";\n\nconst ImgButton = ({ id, className, src, alt, onClick, dataname, disabled }) => {\n\treturn (\n\t\t<button\n\t\t\tclassName={`img-btn hover-info ${className}`}\n\t\t\tdata-name={dataname}\n\t\t\tdisabled={disabled}\n\t\t\tonClick={onClick}>\n\t\t\t<img id={id} className={className} src={src} alt={alt} draggable=\"false\" />\n\t\t</button>\n\t);\n};\n\nexport default ImgButton;\n","import React from \"react\";\nimport ImgButton from \"../Auxillary/ImgButton\";\n\nconst SideBar = ({ handleClick, avatar }) => {\n\treturn (\n\t\t<div className=\"sidebar bar\">\n\t\t\t<ImgButton\n\t\t\t\tid=\"profile\"\n\t\t\t\tdataname=\"Profile\"\n\t\t\t\tclassName=\"profile\"\n\t\t\t\tonClick={(e) => handleClick(e)}\n\t\t\t\tsrc={`./assets/avatars/avatars${avatar}.png`}\n\t\t\t\talt=\"Profile Button\"\n\t\t\t/>\n\n\t\t\t<ImgButton\n\t\t\t\tid=\"factory\"\n\t\t\t\tdataname=\"Factory\"\n\t\t\t\tclassName=\"factory\"\n\t\t\t\tonClick={(e) => handleClick(e)}\n\t\t\t\tsrc=\"./assets/img/factory.png\"\n\t\t\t\talt=\"Factory Button\"\n\t\t\t/>\n\n\t\t\t<ImgButton\n\t\t\t\tid=\"resos\"\n\t\t\t\tdataname=\"Resources\"\n\t\t\t\tclassName=\"resos\"\n\t\t\t\tonClick={(e) => handleClick(e)}\n\t\t\t\tsrc=\"./assets/img/miner.png\"\n\t\t\t\talt=\"Miner Button\"\n\t\t\t/>\n\n\t\t\t<ImgButton\n\t\t\t\tid=\"plots\"\n\t\t\t\tdataname=\"Plots\"\n\t\t\t\tclassName=\"plots\"\n\t\t\t\tonClick={(e) => handleClick(e)}\n\t\t\t\tsrc=\"./assets/img/plots.png\"\n\t\t\t\talt=\"Plots Button\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default SideBar;\n","import { animated } from \"@react-spring/web\";\nimport ImgButton from \"../Auxillary/ImgButton\";\n\nconst BottomBar = ({ xy, setModal }) => {\n\treturn (\n\t\t<div className=\"bottombar bar\">\n\t\t\t<div className=\"x-cord cords\">\n\t\t\t\tX, Y: (<animated.span>{xy}</animated.span>)\n\t\t\t</div>\n\t\t\t<ImgButton\n\t\t\t\tid=\"teleport\"\n\t\t\t\tdataname=\"Teleport\"\n\t\t\t\tclassName=\"teleport\"\n\t\t\t\tsrc=\"./assets/img/teleport.png\"\n\t\t\t\talt=\"teleport\"\n\t\t\t\tonClick={() => setModal(true)}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default BottomBar;\n","import { animated } from \"@react-spring/web\";\nimport React, { useRef, useEffect } from \"react\";\nimport \"../../styles/modal.scss\";\n\nconst Modal = ({ children, setIsOpen, modalVisible, className }) => {\n\tconst checkIfClickedOutside = (e) => {\n\t\t// If the menu is open and the clicked target is not within the menu,\n\t\t// then close the menu\n\t\tif (!modalRef.current.contains(e.target)) {\n\t\t\tsetIsOpen(false);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"mousedown\", checkIfClickedOutside);\n\t\treturn () => {\n\t\t\t// Cleanup the event listener\n\t\t\tdocument.removeEventListener(\"mousedown\", checkIfClickedOutside);\n\t\t};\n\t}, []);\n\tconst modalRef = useRef();\n\treturn (\n\t\t<animated.div className=\"modal-bg\">\n\t\t\t<div className={`modal ${className}`} ref={modalRef}>\n\t\t\t\t<button onClick={() => setIsOpen(false)} className=\"close\">\n\t\t\t\t\t[X]\n\t\t\t\t</button>\n\t\t\t\t<div className=\"content\">{children}</div>\n\t\t\t</div>\n\t\t</animated.div>\n\t);\n};\nexport default Modal;\n","import React, { useRef, useEffect } from \"react\";\nimport \"../../styles/minimodal.scss\";\n\nconst MiniModal = ({ children, setIsMiniModal }) => {\n\tconst checkIfClickedOutside = (e) => {\n\t\t// If the menu is open and the clicked target is not within the menu,\n\t\t// then close the menu\n\t\tif (!modalRef.current.contains(e.target)) {\n\t\t\tsetIsMiniModal(false);\n\t\t}\n\t};\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"mousedown\", checkIfClickedOutside);\n\t\treturn () => {\n\t\t\t// Cleanup the event listener\n\t\t\tdocument.removeEventListener(\"mousedown\", checkIfClickedOutside);\n\t\t};\n\t}, []);\n\tconst modalRef = useRef();\n\treturn (\n\t\t<div className=\"modal-bg\">\n\t\t\t<div className=\"mini-modal\" ref={modalRef}>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetIsMiniModal(false);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"close\">\n\t\t\t\t\t[X]\n\t\t\t\t</button>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MiniModal;\n","import React, { useContext, useState } from \"react\";\n// profile context\nimport { Web3Context } from \"../../context/Web3Context\";\nimport MiniModal from \"../MiniModals/index\";\nimport ImgButton from \"../Auxillary/ImgButton\";\n\nconst Profile = ({ avatar, setAvatar }) => {\n\tconst { account, providerName, disconnectProvider } = useContext(Web3Context);\n\tconst [isSelectOpen, setIsSelectOpen] = useState(false);\n\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<div className=\"picture\">\n\t\t\t\t<img src={`./assets/avatars/avatars${avatar}.png`} alt=\"avatar\" />\n\t\t\t\t<p\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetIsSelectOpen(true);\n\t\t\t\t\t}}>\n\t\t\t\t\tChange avatar\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"data\">\n\t\t\t\t<h1>\n\t\t\t\t\t<span>Wallet Address </span>\n\t\t\t\t\t{`${account}`}\n\t\t\t\t</h1>\n\t\t\t\t<h1>\n\t\t\t\t\t<span>Wallet Provider</span>\n\t\t\t\t\t{providerName}\n\t\t\t\t</h1>\n\t\t\t</div>\n\t\t\t<div className=\"btns\">\n\t\t\t\t<button className=\"dc\" onClick={() => disconnectProvider()}>\n\t\t\t\t\tDisconnect Wallet\n\t\t\t\t</button>\n\t\t\t\t<button className=\"change\">\n\t\t\t\t\tChange <br />\n\t\t\t\t\tWallet\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{isSelectOpen && (\n\t\t\t\t<MiniModal setIsMiniModal={setIsSelectOpen}>\n\t\t\t\t\t<span>Choose a avatar</span>\n\t\t\t\t\t<div className=\"options\">\n\t\t\t\t\t\t<ImgButton\n\t\t\t\t\t\t\tdataname=\"Satoshi\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAvatar(0);\n\t\t\t\t\t\t\t\tsetIsSelectOpen(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc=\"./assets/avatars/avatars0.png\"\n\t\t\t\t\t\t\talt=\"avatar Satoshi\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ImgButton\n\t\t\t\t\t\t\tdataname=\"Jeff\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAvatar(1);\n\t\t\t\t\t\t\t\tsetIsSelectOpen(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc=\"./assets/avatars/avatars1.png\"\n\t\t\t\t\t\t\talt=\"avatar Jeff\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ImgButton\n\t\t\t\t\t\t\tdataname=\"Biju\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAvatar(2);\n\t\t\t\t\t\t\t\tsetIsSelectOpen(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc=\"./assets/avatars/avatars2.png\"\n\t\t\t\t\t\t\talt=\"avatar Biju\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ImgButton\n\t\t\t\t\t\t\tdataname=\"Vitalik\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAvatar(3);\n\t\t\t\t\t\t\t\tsetIsSelectOpen(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc=\"./assets/avatars/avatars3.png\"\n\t\t\t\t\t\t\talt=\"avatar Vitalik\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ImgButton\n\t\t\t\t\t\t\tdataname=\"Elon\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAvatar(4);\n\t\t\t\t\t\t\t\tsetIsSelectOpen(false);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc=\"./assets/avatars/avatars4.png\"\n\t\t\t\t\t\t\talt=\"avatar Elon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</MiniModal>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","import React from \"react\";\nimport \"../../styles/card.scss\";\n\nconst Card = ({ className, id, children, onClick }) => {\n\treturn (\n\t\t<div className={`card ${className}`} id={id} onClick={onClick}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Card;\n","const getLandRate = (seed, type) => {\n\tlet rate;\n\tconst base = {\n\t\t0: 100,\n\t\t1: 50,\n\t\t2: 20,\n\t\t3: 10,\n\t\t4: 5,\n\t};\n\tconst land_dependent = {\n\t\t0: true,\n\t\t1: true,\n\t\t2: true,\n\t\t3: true,\n\t\t4: true,\n\t};\n\tif (land_dependent[type]) rate = 50 + ((seed / 10 ** (type % 35)) % 51);\n\telse rate = 100;\n\treturn parseInt((base[type] * rate) / 100);\n};\n\nexport default getLandRate;\n","const getImage = (cellData) => {\n\t//\n\tif (cellData.x === 0 && cellData.y === 0) return \"spawn\";\n\tif (cellData.seed === -1) return \"locked\";\n\tconst mod = cellData.seed % 100;\n\tif (mod > 90) return `pixplot_4`;\n\tif (mod > 80) return `pixplot_3`;\n\tif (mod > 60) return `pixplot_2`;\n\tif (mod > 30) return `pixplot_1`;\n\treturn `pixplot_0`;\n};\nconst LandPreview = ({ cellData }) => {\n\tconst image = getImage(cellData);\n\tlet seed = cellData.seed.toString();\n\treturn (\n\t\t<div className=\"land-preview\">\n\t\t\t<img draggable=\"false\" src={`./assets/img/${image}.png`} alt={`${image}.png`} />\n\t\t\t{cellData?.factory ? (\n\t\t\t\t<img\n\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\tclassName=\"factory\"\n\t\t\t\t\tstyle={{ top: `${seed[1]}%`, left: `${seed[0]}%` }}\n\t\t\t\t\tsrc={`./assets/img/factories/factory_${cellData.factory.type}.png`}\n\t\t\t\t\talt={`${\"factory\"}.png`}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\nexport default LandPreview;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Card from \"../Auxillary/Card\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport getLandRates from \"../../utils/getLandRate\";\nimport LandPreview from \"../Auxillary/LandPreview\";\n\nconst Plots = () => {\n\tconst [page, setPage] = useState(0);\n\tconst { userLandData, loadUserLandData } = useContext(Web3Context);\n\n\tuseEffect(() => {\n\t\tloadUserLandData();\n\t}, []);\n\t// console.log(userLandData);\n\n\treturn (\n\t\t<div className=\"plots\">\n\t\t\t<h1>Lands</h1>\n\t\t\t<div className=\"tabs\">\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPage(0);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={page === 0 ? \"tab owned active\" : \"tab owned\"}>\n\t\t\t\t\tOwned\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPage(1);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={page === 1 ? \"tab owned active\" : \"tab owned\"}>\n\t\t\t\t\tMarket Place\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{page === 0 ? (\n\t\t\t\t<div className=\"content owned\">\n\t\t\t\t\t{userLandData?.user?.lands.map((land) => (\n\t\t\t\t\t\t<Card className=\"plot-card\" key={land.id}>\n\t\t\t\t\t\t\t<section className=\"card-left\">\n\t\t\t\t\t\t\t\t<LandPreview cellData={land} />\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section className=\"card-right\">\n\t\t\t\t\t\t\t\t<div className=\"ore\">\n\t\t\t\t\t\t\t\t\t<span className=\"label\">Ore Distribution:</span>\n\t\t\t\t\t\t\t\t\t<span className=\"dist fe\">fe</span>\n\t\t\t\t\t\t\t\t\t<span className=\"val fe\">{`${getLandRates(land.seed, 0)}%`}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"dist au\">al</span>\n\t\t\t\t\t\t\t\t\t<span className=\"val au\">{`${getLandRates(land.seed, 1)}%`}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"dist cu\">cu</span>\n\t\t\t\t\t\t\t\t\t<span className=\"val cu\">{`${getLandRates(land.seed, 2)}%`}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"dist ti\">au</span>\n\t\t\t\t\t\t\t\t\t<span className=\"val ti\">{`${getLandRates(land.seed, 3)}%`}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"dist al\">ti</span>\n\t\t\t\t\t\t\t\t\t<span className=\"val al\">{`${getLandRates(land.seed, 4)}%`}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"is-factory\">\n\t\t\t\t\t\t\t\t\t{land.factory\n\t\t\t\t\t\t\t\t\t\t? `${land.factory.name} with id ${land.factory.id} placed`\n\t\t\t\t\t\t\t\t\t\t: \"no factory on land\"}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"cords\">\n\t\t\t\t\t\t\t\t\t<span className=\"x-label label\">X:</span>\n\t\t\t\t\t\t\t\t\t<span className=\"x-value value\">{land.x}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"y-label label\">Y:</span>\n\t\t\t\t\t\t\t\t\t<span className=\"y-value value\">{land.y}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button className=\"sell\">send</button>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"content market\">\n\t\t\t\t\t<div className=\"ingame\">\n\t\t\t\t\t\t<button className=\"buy-btn\">Buy a New Land</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Plots;\n","export const factoriesList = [\n\t{\n\t\ttype: 0,\n\t\tproduce: \"fe\",\n\t\tname: \"Iron Mine\",\n\t\trates: [50, 100],\n\t\tprice: 500,\n\t},\n\t{\n\t\ttype: 1,\n\t\tproduce: \"al\",\n\t\tname: \"Aluminium Quarry\",\n\t\trates: [25, 50],\n\t\tprice: 800,\n\t},\n\t{\n\t\ttype: 2,\n\t\tproduce: \"cu\",\n\t\tname: \"Copper Well\",\n\t\trates: [10, 20],\n\t\tprice: 1000,\n\t},\n\t{\n\t\ttype: 3,\n\t\tproduce: \"au\",\n\t\tname: \"Gold Mine\",\n\t\trates: [5, 10],\n\t\tprice: 1200,\n\t},\n\t{\n\t\ttype: 4,\n\t\tproduce: \"ti\",\n\t\tname: \"Titanium Quarry\",\n\t\trates: [2, 5],\n\t\tprice: 1500,\n\t},\n];\n","import React, { useContext, useState } from \"react\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport { factoriesList } from \"../../utils/factoriesList\";\nimport Card from \"../Auxillary/Card\";\n\nconst Factory = () => {\n\tconst [page, setPage] = useState(0);\n\tconst { factories, buyFactory } = useContext(Web3Context);\n\n\treturn (\n\t\t<div className=\"factory\">\n\t\t\t<h1>Factories</h1>\n\t\t\t<div className=\"tabs\">\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPage(0);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={page === 0 ? \"tab owned active\" : \"tab owned\"}>\n\t\t\t\t\tOwned\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetPage(1);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={page === 1 ? \"tab owned active\" : \"tab owned\"}>\n\t\t\t\t\tMarket Place\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{page === 0 ? (\n\t\t\t\t<div className=\"content owned\">\n\t\t\t\t\t{factories ? (\n\t\t\t\t\t\tfactories.map(({ name, id, x, y, type, efficiency }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Card key={id}>\n\t\t\t\t\t\t\t\t\t<section className=\"card-left\">\n\t\t\t\t\t\t\t\t\t\t<img src={`./assets/img/factories/factory_${type}.png`} alt=\"\" />\n\n\t\t\t\t\t\t\t\t\t\t<span className=\"rate\">\n\t\t\t\t\t\t\t\t\t\t\t{`${efficiency}% `}\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"unit\">efficient</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t<section className=\"card-right\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"name\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"value\">{name}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"produce\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"label\">Produce:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"high\">{factoriesList[type].produce}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"placed\">\n\t\t\t\t\t\t\t\t\t\t\t{x && y ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFactory place at <span className=\"high\">{`(${x}, ${y})`}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>factory not placed</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"btns\">\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"sell\" title=\"Sell the factory\">\n\t\t\t\t\t\t\t\t\t\t\t\tSell\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"place\">Place</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<h1>Cricket Noises...</h1>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"content market\">\n\t\t\t\t\t{factoriesList.map(({ type, name, rates, price }) => (\n\t\t\t\t\t\t<Card key={type} className=\"owned-2\">\n\t\t\t\t\t\t\t<section className=\"card-left\">\n\t\t\t\t\t\t\t\t<img src={`./assets/img/factories/factory_${type}.png`} alt=\"\" />\n\t\t\t\t\t\t\t\t<span className=\"rate\">\n\t\t\t\t\t\t\t\t\t{rates[0]}-{rates[1]}\n\t\t\t\t\t\t\t\t\t<span className=\"unit\">/hr</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section className=\"card-right\">\n\t\t\t\t\t\t\t\t<span className=\"title\">{name}</span>\n\t\t\t\t\t\t\t\t<span className=\"price\">\n\t\t\t\t\t\t\t\t\t{price}\n\t\t\t\t\t\t\t\t\t<span className=\"token\">MLO</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<button onClick={() => buyFactory(name, type)} className=\"bid\">\n\t\t\t\t\t\t\t\t\tBuy\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Factory;\n","import React, { useContext } from \"react\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport manageNumbers from \"../../utils/manageNumbers\";\nimport resourceList from \"../../utils/resourceList.json\";\n\nconst Resources = () => {\n\tconst { balances, claimAll, userData, lastClaimed } = useContext(Web3Context);\n\treturn (\n\t\t<div className=\"resos\">\n\t\t\t<h1>Resources</h1>\n\t\t\t<div className=\"content\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<button onClick={claimAll}>Claim all Resources</button>\n\t\t\t\t\t<span>\n\t\t\t\t\t\tLast Claimed {Math.round((Date.now() - parseInt(lastClaimed) * 1000) / 86400)} hours ago\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<h3>Your Resources</h3>\n\t\t\t\t<main>\n\t\t\t\t\t<div className=\"ores\">\n\t\t\t\t\t\t{Object.keys(resourceList).map((key, _) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={key} className={`${resourceList[key].name.toLowerCase()} item`}>\n\t\t\t\t\t\t\t\t\t<span className=\"label\">{resourceList[key].symbol}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"value\">\n\t\t\t\t\t\t\t\t\t\t{manageNumbers(balances[resourceList[key].symbol.toLowerCase()])}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"others\">\n\t\t\t\t\t\t<div className=\"plots item\">\n\t\t\t\t\t\t\t<span className=\"label\">Lands</span>\n\t\t\t\t\t\t\t<span className=\"value\">{userData?.lands?.length}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"factories item\">\n\t\t\t\t\t\t\t<span className=\"label\">Factories</span>\n\t\t\t\t\t\t\t<span className=\"value\">{userData?.factories?.length}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Resources;\n","import { useState, useEffect, createContext, useContext } from \"react\";\nimport { useDrag } from \"react-use-gesture\";\nimport { useSpring, config } from \"@react-spring/web\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport useInterval from \"../hooks/useInterval\";\nimport { Web3Context } from \"./Web3Context\";\n\nconst initWindowHeight = window.innerHeight;\nconst initWindowWidth = window.innerWidth;\nconst initCellSize = Math.max(initWindowWidth, initWindowHeight) / 10;\nconst initGridSize = initCellSize * 31;\nconst initLocalCentreDelta = localStorage\n\t.getItem(\"centreDelta\")\n\t?.split(\",\")\n\t.map((v, _) => parseInt(v)) || [0, 0];\nconst initChunkCentre = localStorage\n\t.getItem(\"chunkCentre\")\n\t?.split(\",\")\n\t.map((v) => parseInt(v)) || [0, 0];\nconst centredGridOffsets = [\n\t-((initGridSize - initWindowHeight) / 2),\n\t-((initGridSize - initWindowWidth) / 2),\n];\n\nconst GameContext = createContext({\n\ttop: parseFloat(localStorage.getItem(\"top\")) || centredGridOffsets[1],\n\tleft: parseFloat(localStorage.getItem(\"left\")) || centredGridOffsets[0],\n\tcentreDelta: initLocalCentreDelta,\n\tchunkCentre: initChunkCentre,\n\tminiMenuStyles: {},\n\txy: [initChunkCentre[0] + initLocalCentreDelta[0], initChunkCentre[1] + initLocalCentreDelta[1]],\n\tbackgroundColor: \"white\",\n\tcellSize: initCellSize,\n\tgridData: {},\n\tminiMenuApi: {},\n\tcloseMiniMenu: () => {},\n\tselectedBlock: () => {},\n\thandlePlotClick: () => {},\n\thandleMiniClick: () => {},\n\tdragBind: () => {},\n\tsetIsMiniModal: () => {},\n\tteleport: () => {},\n});\n\nconst GameContextProvider = (props) => {\n\tconst windowHeight = window.innerHeight;\n\tconst windowWidth = window.innerWidth;\n\tconst cellSize = Math.max(windowWidth, windowHeight) / 10;\n\tconst gridSize = cellSize * 31;\n\tconst paddingSize = cellSize * 5;\n\n\t// Mini modal States\n\n\tconst centredGridOffsets = [-((gridSize - windowHeight) / 2), -((gridSize - windowWidth) / 2)];\n\n\tconst localTop = parseFloat(localStorage.getItem(\"top\")) || centredGridOffsets[0];\n\tconst localLeft = parseFloat(localStorage.getItem(\"left\")) || centredGridOffsets[1];\n\n\t// The centre of window in the grid\n\tconst localCentreDelta = localStorage\n\t\t.getItem(\"centreDelta\")\n\t\t?.split(\",\")\n\t\t.map((v, _) => parseInt(v)) || [0, 0];\n\n\t// Utility Functions\n\tconst calculateCentre = (top, left) => {\n\t\treturn [\n\t\t\tMath.floor((-left - paddingSize + windowWidth / 2) / cellSize) - 10,\n\t\t\t-Math.floor((-top - paddingSize + windowHeight / 2) / cellSize) + 10,\n\t\t];\n\t};\n\tconst calculateBlockOffsets = (x, y) => {\n\t\t[x, y] = [x - chunkCentre[0], y - chunkCentre[1]];\n\t\treturn [windowWidth / 2 - (x + 15.5) * cellSize, windowHeight / 2 + (y - 15.5) * cellSize];\n\t};\n\tconst isOutOfBounds = (top, left) => {\n\t\tconst padding = 0.7 * paddingSize;\n\t\tif (-top < padding || -top > gridSize - padding - windowHeight) return true;\n\t\tif (-left < padding || -left > gridSize - padding - windowWidth) return true;\n\t\treturn false;\n\t};\n\n\t// Centre of the loaded chunk\n\tconst [chunkCentre, setChunkCentre] = useState(\n\t\tlocalStorage\n\t\t\t.getItem(\"chunkCentre\")\n\t\t\t?.split(\",\")\n\t\t\t.map((v) => parseInt(v)) || [0, 0]\n\t);\n\t// Grid\n\tconst [loading, setLoading] = useState(false);\n\tconst [selectedBlock, setSelectedBlock] = useState(\n\t\tlocalStorage\n\t\t\t.getItem(\"chunkCentre\")\n\t\t\t?.split(\",\")\n\t\t\t.map((v) => parseInt(v)) || [0, 0]\n\t);\n\n\t// HOOKS\n\tuseEffect(() => {\n\t\tlocalStorage.setItem(\"chunkCentre\", chunkCentre);\n\t\tsetLoading(false);\n\t}, [chunkCentre]);\n\n\t// Springy\n\tconst [{ top, left, centreDelta, backgroundColor, xy }, centreApi] = useSpring(() => ({\n\t\ttop: localTop,\n\t\tleft: localLeft,\n\t\tcentreDelta: localCentreDelta,\n\t\txy: [chunkCentre[0] + localCentreDelta[0], chunkCentre[1] + localCentreDelta[1]],\n\t\tbackgroundColor: \"white\",\n\t\tconfig: { restVelocity: 1, ...config.slow },\n\t}));\n\tconst [miniMenuStyles, miniMenuApi] = useSpring(() => ({\n\t\twidth: cellSize,\n\t\theight: cellSize,\n\t\tblock: [0, 0],\n\t\ttop: centredGridOffsets[1],\n\t\tleft: centredGridOffsets[0],\n\t}));\n\tconst dragBind = useDrag(\n\t\t({ movement: [mx, my], tap, last }) => {\n\t\t\tif (loading) return;\n\n\t\t\tif (tap) {\n\t\t\t\tcentreApi.stop();\n\t\t\t\tcalculateCentre(top.goal, left.goal);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tsetSelectedBlock();\n\t\t\t\tminiMenuApi.set({\n\t\t\t\t\ttop: -2 * cellSize,\n\t\t\t\t\tleft: -2 * cellSize,\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (last) {\n\t\t\t\thandleDragEnd(top.goal, left.goal);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tcentreApi.start({\n\t\t\t\t\ttop: my,\n\t\t\t\t\tleft: mx,\n\t\t\t\t});\n\t\t\t\tconst newCentreDelta = calculateCentre(top.goal, left.goal);\n\t\t\t\tcentreApi.set({\n\t\t\t\t\tcentreDelta: newCentreDelta,\n\t\t\t\t\txy: [chunkCentre[0] + newCentreDelta[0], chunkCentre[1] + newCentreDelta[1]],\n\t\t\t\t\tbackgroundColor: isOutOfBounds(top.goal, left.goal) ? \"red\" : \"white\",\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t{ initial: () => [left.get(), top.get()] }\n\t);\n\n\t// Player Movements\n\tconst handleDragEnd = (draggedTop, draggedLeft) => {\n\t\tif (isOutOfBounds(draggedTop, draggedLeft)) {\n\t\t\t(async function () {\n\t\t\t\t// Stall the dragging\n\t\t\t\tsetLoading(true);\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (!top.idle || !left.idle) await sleep(500);\n\t\t\t\t\telse break;\n\t\t\t\t}\n\n\t\t\t\tconst newCentreDelta = calculateCentre(draggedTop, draggedLeft);\n\t\t\t\t// Displacement of current centred block from the window centre\n\t\t\t\tconst displacement = [\n\t\t\t\t\tdraggedTop - (windowHeight / 2 + (newCentreDelta[1] - 15.5) * cellSize),\n\t\t\t\t\tdraggedLeft - (windowWidth / 2 - (newCentreDelta[0] + 15.5) * cellSize),\n\t\t\t\t];\n\t\t\t\tconst newOffsets = [\n\t\t\t\t\tcentredGridOffsets[0] + displacement[0],\n\t\t\t\t\tcentredGridOffsets[1] + displacement[1],\n\t\t\t\t];\n\n\t\t\t\t// Set the chunk centre to the block at the centre of the screen\n\t\t\t\tsetChunkCentre((curChunkCentre) => {\n\t\t\t\t\tconst newChunkCentre = [\n\t\t\t\t\t\tnewCentreDelta[0] + curChunkCentre[0],\n\t\t\t\t\t\tnewCentreDelta[1] + curChunkCentre[1],\n\t\t\t\t\t];\n\t\t\t\t\t// Reset Top, Left to adjust to grid centre\n\t\t\t\t\tcentreApi.set({\n\t\t\t\t\t\ttop: newOffsets[0],\n\t\t\t\t\t\tleft: newOffsets[1],\n\t\t\t\t\t});\n\t\t\t\t\treturn newChunkCentre;\n\t\t\t\t});\n\t\t\t\tcentreApi.set({\n\t\t\t\t\tcentreDelta: [0, 0],\n\t\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\t});\n\t\t\t\tloadGridFromCentre(...chunkCentre);\n\n\t\t\t\tlocalStorage.setItem(\"top\", newOffsets[0]);\n\t\t\t\tlocalStorage.setItem(\"left\", newOffsets[1]);\n\t\t\t\tlocalStorage.setItem(\"centreDelta\", [0, 0]);\n\t\t\t})();\n\t\t} else {\n\t\t\tconst newCentreDelta = calculateCentre(draggedTop, draggedLeft);\n\t\t\t// Set Window Centre relative to grid\n\t\t\tcentreApi.set({\n\t\t\t\tcentreDelta: newCentreDelta,\n\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\txy: [chunkCentre[0] + newCentreDelta[0], chunkCentre[1] + newCentreDelta[1]],\n\t\t\t});\n\t\t\tlocalStorage.setItem(\"top\", draggedTop);\n\t\t\tlocalStorage.setItem(\"left\", draggedLeft);\n\t\t\tlocalStorage.setItem(\"centreDelta\", newCentreDelta);\n\t\t}\n\t};\n\n\t// Querying Data\n\tconst { account } = useContext(Web3Context);\n\tconst [loadGrid, { data: gridData }] = useLazyQuery(GET_LANDS_QUERY);\n\n\tconst loadGridFromCentre = (x, y) => {\n\t\tloadGrid({ variables: { x1: x - 10, x2: x + 10, y1: y - 10, y2: y + 10 } });\n\t};\n\n\tuseEffect(() => {\n\t\tloadGridFromCentre(...chunkCentre);\n\t}, [account]);\n\tconst [grid, setGrid] = useState();\n\n\tuseInterval(() => {\n\t\tloadGridFromCentre(...chunkCentre);\n\t}, 10000);\n\n\tuseEffect(() => {\n\t\tif (gridData)\n\t\t\tsetGrid(() => {\n\t\t\t\tconst newGrid = {};\n\t\t\t\tfor (const cell of gridData.lands) {\n\t\t\t\t\tnewGrid[cell.id] = cell;\n\t\t\t\t}\n\t\t\t\t// console.log(newGrid);\n\t\t\t\treturn newGrid;\n\t\t\t});\n\t}, [gridData]);\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Grid Data\", gridData?.lands);\n\t}, [gridData]);\n\n\tconst teleport = (x = 0, y = 0) => {\n\t\tcloseMiniMenu();\n\t\tloadGridFromCentre(x, y);\n\t\tcentreApi.set({\n\t\t\ttop: centredGridOffsets[0],\n\t\t\tleft: centredGridOffsets[1],\n\t\t\tcentreDelta: [0, 0],\n\t\t\txy: [x, y],\n\t\t\tbackgroundColor: \"white\",\n\t\t});\n\t\tsetChunkCentre([x, y]);\n\t\tminiMenuApi.set({});\n\n\t\tlocalStorage.setItem(\"top\", centredGridOffsets[0]);\n\t\tlocalStorage.setItem(\"left\", centredGridOffsets[1]);\n\t\tlocalStorage.setItem(\"centreDelta\", [0, 0]);\n\t};\n\n\t// Event Handlers\n\tconst handlePlotClick = (cellData, id) => {\n\t\tif (top.idle && left.idle) {\n\t\t\t// Centre Menu at these Co-ordinates\n\t\t\tconst menuCentre = calculateBlockOffsets(cellData.x, cellData.y);\n\t\t\tsetSelectedBlock(cellData);\n\t\t\tminiMenuApi.set({\n\t\t\t\ttop: top.get() - menuCentre[1] + windowHeight / 2,\n\t\t\t\tleft: left.get() - menuCentre[0] + windowWidth / 2,\n\t\t\t});\n\t\t}\n\t};\n\tconst closeMiniMenu = () => {\n\t\tsetSelectedBlock();\n\t\tminiMenuApi.set({\n\t\t\ttop: -2 * cellSize,\n\t\t\tleft: -2 * cellSize,\n\t\t});\n\t};\n\n\t// handle mini menu click\n\n\treturn (\n\t\t<GameContext.Provider\n\t\t\tvalue={{\n\t\t\t\tteleport,\n\t\t\t\ttop,\n\t\t\t\tleft,\n\t\t\t\tcentreDelta,\n\t\t\t\tchunkCentre,\n\t\t\t\tminiMenuStyles,\n\t\t\t\txy,\n\t\t\t\tbackgroundColor,\n\t\t\t\tminiMenuApi,\n\t\t\t\tcellSize,\n\t\t\t\tgridData: grid,\n\t\t\t\tcloseMiniMenu,\n\t\t\t\tselectedBlock,\n\t\t\t\thandlePlotClick,\n\t\t\t\tdragBind,\n\t\t\t}}>\n\t\t\t{props.children}\n\t\t</GameContext.Provider>\n\t);\n};\n\n// Queries\nconst GET_LANDS_QUERY = gql`\n\tquery GetLands($x1: Int!, $x2: Int!, $y1: Int!, $y2: Int!) {\n\t\tlands(where: { x_gte: $x1, x_lte: $x2, y_gte: $y1, y_lte: $y2 }) {\n\t\t\tid\n\t\t\tx\n\t\t\ty\n\t\t\towner {\n\t\t\t\tid\n\t\t\t}\n\t\t\tseed\n\t\t\tfactory {\n\t\t\t\tid\n\t\t\t\ttype\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n`;\n\n// Utils\nfunction sleep(ms) {\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport { GameContext, GameContextProvider };\n","import React, { memo, useContext, useState } from \"react\";\n\nimport TopBar from \"./TopBar\";\nimport SideBar from \"./SideBar\";\nimport BottomBar from \"./BottomBar\";\nimport Modal from \"../Modals/index\";\nimport Profile from \"../Modals/Profile\";\nimport Plots from \"../Modals/Plots\";\nimport Factory from \"../Modals/Factory\";\nimport Resources from \"../Modals/Resources\";\nimport MiniModal from \"../MiniModals\";\n\nimport \"../../styles/menu.scss\";\nimport { GameContext } from \"../../context/GameContext\";\n\nconst MemoisedBottomBar = memo(BottomBar);\nconst MemoisedTopBar = memo(TopBar);\nconst MemoisedSideBar = memo(SideBar);\n\nconst Docks = () => {\n\tconst { xy, teleport } = useContext(GameContext);\n\tconst [modalVisible, setModalVisible] = useState(false);\n\tconst [avatar, setAvatar] = useState(0);\n\tconst [x, setX] = useState(\"\");\n\tconst [y, setY] = useState(\"\");\n\tconst [isTeleModal, setIsTeleModal] = useState(false);\n\tconst [modal, setModal] = useState(\"\");\n\n\tconst handleClick = (e) => {\n\t\tsetModalVisible(true);\n\t\tsetModal(e.target.id);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!isNaN(x) || !isNaN(y)) {\n\t\t\tteleport(x, y);\n\t\t\tsetIsTeleModal(false);\n\t\t\tsetX(\"\");\n\t\t\tsetY(\"\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"menu\">\n\t\t\t<MemoisedTopBar iron={0} gold={0} copper={0} titanium={0} aluminium={0} />\n\t\t\t<MemoisedBottomBar xy={xy} setModal={setIsTeleModal} />\n\t\t\t<MemoisedSideBar handleClick={handleClick} avatar={avatar} />\n\t\t\t{/* Modals */}\n\t\t\t{modalVisible && (\n\t\t\t\t<Modal modalVisible={modalVisible} setIsOpen={setModalVisible}>\n\t\t\t\t\t{modal === \"profile\" && <Profile avatar={avatar} setAvatar={setAvatar} />}\n\t\t\t\t\t{modal === \"factory\" && <Factory />}\n\t\t\t\t\t{modal === \"resos\" && <Resources />}\n\t\t\t\t\t{modal === \"plots\" && <Plots />}\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t\t){/* Teleport Modal */}\n\t\t\t{isTeleModal && (\n\t\t\t\t<MiniModal setIsMiniModal={setIsTeleModal}>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div className=\"x input\">\n\t\t\t\t\t\t\t<label>X: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tid=\"x\"\n\t\t\t\t\t\t\t\tname=\"x\"\n\t\t\t\t\t\t\t\tvalue={x}\n\t\t\t\t\t\t\t\tonChange={(e) => setX(Number(e.target.value))}\n\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"y input\">\n\t\t\t\t\t\t\t<label>Y: </label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tid=\"y\"\n\t\t\t\t\t\t\t\tname=\"y\"\n\t\t\t\t\t\t\t\tvalue={y}\n\t\t\t\t\t\t\t\tonChange={(e) => setY(Number(e.target.value))}\n\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"tele-btn\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\tdisabled={x === undefined || y === undefined}>\n\t\t\t\t\t\t\tTeleport\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</MiniModal>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Docks;\n","import { animated } from \"@react-spring/web\";\nimport React, { memo, useContext } from \"react\";\nimport { GameContext } from \"../context/GameContext\";\nimport { Web3Context } from \"../context/Web3Context\";\nimport ImgButton from \"./Auxillary/ImgButton\";\n\nconst MiniMenu = ({ setModalType, setIsModalOpen }) => {\n\tconst { miniMenuStyles: styles, selectedBlock, closeMiniMenu } = useContext(GameContext);\n\tconst { account } = useContext(Web3Context);\n\n\tconst handleClick = (e) => {\n\t\tsetModalType(e.target.id);\n\t\tsetIsModalOpen(true);\n\t};\n\treturn (\n\t\t<animated.div className=\"mini\" style={styles}>\n\t\t\t<img className=\"ring\" draggable=\"false\" src=\"./assets/img/circle.png\" alt=\"circle\" />\n\t\t\t<span id=\"label\">\n\t\t\t\t{selectedBlock?.x},{selectedBlock?.y}\n\t\t\t</span>\n\t\t\t<div className=\"btns\">\n\t\t\t\t{selectedBlock?.seed === -1 ? (\n\t\t\t\t\t<ImgButton\n\t\t\t\t\t\tid=\"buy\"\n\t\t\t\t\t\tdataname=\"Buy Land\"\n\t\t\t\t\t\tclassName=\"buy\"\n\t\t\t\t\t\tsrc=\"./assets/img/plot-buy-v3.png\"\n\t\t\t\t\t\talt=\"buy-land-button\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\tdisabled={selectedBlock?.x === 0 && selectedBlock?.y === 0}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ImgButton\n\t\t\t\t\t\tid=\"sell\"\n\t\t\t\t\t\tdataname=\"Transfer Land\"\n\t\t\t\t\t\tclassName=\"sell\"\n\t\t\t\t\t\tsrc=\"./assets/img/plot-sell-v3.png\"\n\t\t\t\t\t\talt=\"buy-land-button\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\tdisabled={selectedBlock?.owner?.id !== account}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<ImgButton\n\t\t\t\t\tonClick={closeMiniMenu}\n\t\t\t\t\tid=\"exit\"\n\t\t\t\t\tdataname=\"Exit Menu\"\n\t\t\t\t\tclassName=\"exit\"\n\t\t\t\t\tsrc=\"./assets/img/plot-rmv-v3.png\"\n\t\t\t\t\talt=\"remove-factory-button\"\n\t\t\t\t/>\n\t\t\t\t<ImgButton\n\t\t\t\t\tid=\"info\"\n\t\t\t\t\tdataname=\"Info\"\n\t\t\t\t\tclassName=\"info\"\n\t\t\t\t\tsrc=\"./assets/img/plot-info-v3.png\"\n\t\t\t\t\talt=\"info-land-button\"\n\t\t\t\t\tonClick={handleClick}\n\t\t\t\t/>\n\t\t\t\t{!selectedBlock?.factory ? (\n\t\t\t\t\t<ImgButton\n\t\t\t\t\t\tid=\"add\"\n\t\t\t\t\t\tdataname=\"Place Factory\"\n\t\t\t\t\t\tclassName=\"add\"\n\t\t\t\t\t\tsrc=\"./assets/img/fact-add.png\"\n\t\t\t\t\t\talt=\"info-land-button\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\tdisabled={selectedBlock?.seed === -1 || selectedBlock?.owner?.id !== account}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ImgButton\n\t\t\t\t\t\tid=\"rmv\"\n\t\t\t\t\t\tdataname=\"Remove Factory\"\n\t\t\t\t\t\tclassName=\"rmv\"\n\t\t\t\t\t\tsrc=\"./assets/img/fact-destroy.png\"\n\t\t\t\t\t\talt=\"sell-land-button\"\n\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</animated.div>\n\t);\n};\nconst MemoMiniMenu = memo(MiniMenu);\nexport default MemoMiniMenu;\n","import React, { useContext, useState } from \"react\";\nimport { GameContext } from \"../../context/GameContext\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport Card from \"../Auxillary/Card\";\n\nconst Add = ({ setIsOpen }) => {\n\tconst { selectedBlock } = useContext(GameContext);\n\tconst { factories, placeFactory } = useContext(Web3Context);\n\tconst [fid, setFid] = useState();\n\tconst handlePlaceFactory = () => {\n\t\tplaceFactory(fid, selectedBlock?.x, selectedBlock?.y);\n\t\tsetIsOpen(false);\n\t};\n\t// console.log(\"factories\", factories);\n\n\treturn factories ? (\n\t\t<div className=\"add-content content\">\n\t\t\t<span className=\"prompt\">\n\t\t\t\tChoose Factory to place at\n\t\t\t\t<span className=\"high\">{` (${selectedBlock?.x}, ${selectedBlock?.y})`}</span>\n\t\t\t</span>\n\t\t\t<div className=\"select\">\n\t\t\t\t<div className=\"select-inv\">\n\t\t\t\t\t<div className=\"title-inv select-title\">Inventory</div>\n\t\t\t\t\t<div className=\"select-cards\">\n\t\t\t\t\t\t{factories.map(({ id, x, y, name, type, efficiency }) => {\n\t\t\t\t\t\t\tif (!(x && y))\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\t\t\tonClick={() => setFid(id)}\n\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"inv\"\n\t\t\t\t\t\t\t\t\t\tid={fid === id ? \"active\" : null}>\n\t\t\t\t\t\t\t\t\t\t<section className=\"card-left\">\n\t\t\t\t\t\t\t\t\t\t\t<img src={`./assets/img/factories/factory_${type}.png`} alt=\"\" />\n\t\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t\t<section className=\"card-right\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"title\">{name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"rate\">\n\t\t\t\t\t\t\t\t\t\t\t\t{efficiency}%<span className=\"unit\"> efficient</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"select-tp\">\n\t\t\t\t\t<div className=\"title-tp select-title\">Teleport</div>\n\t\t\t\t\t<div className=\"select-cards\">\n\t\t\t\t\t\t{factories.map(({ id, x, y, name, type, efficiency }) => {\n\t\t\t\t\t\t\tif (x && y)\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\t\t\tonClick={() => setFid(id)}\n\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"tp\"\n\t\t\t\t\t\t\t\t\t\tid={fid === id ? \"active\" : null}>\n\t\t\t\t\t\t\t\t\t\t<section className=\"card-left\">\n\t\t\t\t\t\t\t\t\t\t\t<img src={`./assets/img/factories/factory_${type}.png`} alt=\"\" />\n\t\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t\t<section className=\"card-right\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"title\">{name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"rate\">\n\t\t\t\t\t\t\t\t\t\t\t\t{efficiency}%<span className=\"unit\"> efficient</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"cords\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"cords-label\">Current Cords.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"cords-val\">{` (${x}, ${y})`}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button disabled={!fid} onClick={handlePlaceFactory} className=\"place-factory\">\n\t\t\t\tPlace\n\t\t\t</button>\n\t\t</div>\n\t) : (\n\t\t<div className=\"add-content content\">\n\t\t\t<span className=\"prompt\">No Factories in Inventory.</span>\n\t\t\t<button className=\"buy-fact\">Buy a factory</button>\n\t\t</div>\n\t);\n};\n\nexport default Add;\n","import React, { useContext } from \"react\";\nimport { GameContext } from \"../../context/GameContext\";\nimport { Web3Context } from \"../../context/Web3Context\";\nimport getLandrate from \"../../utils/getLandRate\";\nimport LandPreview from \"../Auxillary/LandPreview\";\nimport resourceList from \"../../utils/resourceList.json\";\nconst Info = () => {\n\tconst { selectedBlock } = useContext(GameContext);\n\tconst { account } = useContext(Web3Context);\n\t// console.log(\"selected Block\", selectedBlock);\n\treturn selectedBlock?.seed !== -1 ? (\n\t\t<div className=\"info-content content\">\n\t\t\t<div className=\"preview-container\">\n\t\t\t\t<LandPreview cellData={selectedBlock} />\n\t\t\t</div>\n\t\t\t<div className=\"info\">\n\t\t\t\tOwner {\">\"}\n\t\t\t\t{selectedBlock?.owner?.id !== account\n\t\t\t\t\t? `${selectedBlock?.owner?.id?.slice(0, 6)}...`\n\t\t\t\t\t: \" You\"}\n\t\t\t\t<span className=\"cords ele\">\n\t\t\t\t\tCo-ordinates {\">\"}\n\t\t\t\t\t<span className=\"high\">{` (${selectedBlock?.x}, ${selectedBlock?.y})`}</span>\n\t\t\t\t</span>\n\t\t\t\t<span className=\"factory ele\">\n\t\t\t\t\tFactory {\"> \"}\n\t\t\t\t\t{selectedBlock?.factory ? (\n\t\t\t\t\t\t<span>{selectedBlock?.factory?.name}</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>None</span>\n\t\t\t\t\t)}{\" \"}\n\t\t\t\t</span>\n\t\t\t\t<div className=\"ores ele\">\n\t\t\t\t\t{Object.keys(resourceList).map((key, _) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={key}>\n\t\t\t\t\t\t\t\t<span className=\"label\">{resourceList[key].name} </span>\n\t\t\t\t\t\t\t\t{\" -> \"}\n\t\t\t\t\t\t\t\t{getLandrate(selectedBlock.seed, key)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t{selectedBlock.factory ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{/* <div className=\"factory\">\n\t\t\t\t\t\t\t<div className=\"name\">{selectedBlock.factory.name}</div>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t<div className=\"produce ele\">\n\t\t\t\t\t\t\t<div className=\"name\">{resourceList[selectedBlock.factory.type].name}</div>\n\t\t\t\t\t\t\t{getLandrate(selectedBlock.seed, selectedBlock.factory.type)} /hr\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t) : selectedBlock?.x !== 0 && selectedBlock?.y !== 0 ? (\n\t\t<div className=\"info-content content\">\n\t\t\t<div className=\"info\">\n\t\t\t\t<span className=\"cords\">\n\t\t\t\t\tCo-ordinates of this Land are{\" \"}\n\t\t\t\t\t<span className=\"high\">{`(${selectedBlock?.x}, ${selectedBlock?.x})`}</span>\n\t\t\t\t</span>\n\t\t\t\t<span className=\"prompt-big ele\">Unclaimed Land</span>\n\t\t\t\t<span className=\"prompt ele\">For Sale</span>\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<div className=\"info-content content landing\">\n\t\t\t<div className=\"preview-container\">\n\t\t\t\t<LandPreview cellData={selectedBlock} />\n\t\t\t</div>\n\t\t\t<div className=\"info ele\">\n\t\t\t\t<div className=\"prompt-big \">MarsMello</div>\n\t\t\t\t<div className=\"synopsis ele\">\n\t\t\t\t\t#BUIDL Industries on a digital and truly decentralised Mars! <br />\n\t\t\t\t\t<br />\n\t\t\t\t\tBring Out Your Inner Musk! #BUIDL Industries on a digital and truly decentralised Mars! An\n\t\t\t\t\tIdle-Open World-Strategy-Economy-Simulation Game!\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Info;\n","import React, { useContext } from \"react\";\nimport { GameContext } from \"../../context/GameContext\";\nimport { Web3Context } from \"../../context/Web3Context\";\n\nconst Remove = ({ setIsOpen }) => {\n\tconst { selectedBlock } = useContext(GameContext);\n\tconst { removeFactory } = useContext(Web3Context);\n\n\treturn selectedBlock?.factory ? (\n\t\t<div className=\"rmv-content content\">\n\t\t\t<span className=\"prompt\">\n\t\t\t\tDo you want to remove the factory at\n\t\t\t\t<span className=\"high\">{` (${selectedBlock?.x}, ${selectedBlock?.y})`}</span> ?\n\t\t\t</span>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tremoveFactory(selectedBlock?.factory?.id);\n\t\t\t\t\tsetIsOpen(false);\n\t\t\t\t}}\n\t\t\t\tclassName=\"rmv-factory\">\n\t\t\t\tRemove\n\t\t\t</button>\n\t\t</div>\n\t) : (\n\t\t<div className=\"rmv-content content\">\n\t\t\t<span className=\"prompt\">No Factories in Inventory to place.</span>\n\t\t\t<button className=\"buy-fact\">Buy a factory</button>\n\t\t</div>\n\t);\n};\n\nexport default Remove;\n","import { animated } from \"@react-spring/web\";\nimport React, { useContext, memo } from \"react\";\nimport { GameContext } from \"../../context/GameContext\";\nimport { Web3Context } from \"../../context/Web3Context\";\n\nconst Buy = () => {\n\tconst { selectedBlock } = useContext(GameContext);\n\tconst { buyLand, getLandPrice, landPrice } = useContext(Web3Context);\n\tgetLandPrice();\n\t// console.log(landPrice);\n\treturn (\n\t\t<div className=\"buy-content content\">\n\t\t\t<span className=\"prompt\">\n\t\t\t\tDo you want to buy land at\n\t\t\t\t<span className=\"high\">{` (${selectedBlock?.x}, ${selectedBlock?.y})`}</span>?\n\t\t\t</span>\n\t\t\t<span className=\"cost\">\n\t\t\t\t<animated.span className=\"value\">{landPrice}</animated.span>\n\t\t\t\t<span className=\"high\">MLO</span>\n\t\t\t</span>\n\t\t\t<button className=\"buy-land\" onClick={() => buyLand(selectedBlock.x, selectedBlock.y)}>\n\t\t\t\tBuy\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default memo(Buy);\n","import React, { useContext } from \"react\";\nimport { GameContext } from \"../../context/GameContext\";\n\nconst Sell = () => {\n\tconst { selectedBlock } = useContext(GameContext);\n\treturn (\n\t\t<div className=\"sell-content content\">\n\t\t\t<span className=\"prompt\">\n\t\t\t\tDo you want to sell land at\n\t\t\t\t<span className=\"high\">{` (${selectedBlock?.x}, ${selectedBlock?.y})`}</span> ?\n\t\t\t</span>\n\t\t\t<span className=\"cost\">\n\t\t\t\t<span className=\"value\">1000</span>\n\t\t\t\t<span className=\"high\">MLO</span>\n\t\t\t</span>\n\t\t\t<button className=\"sell-land\">Sell</button>\n\t\t</div>\n\t);\n};\n\nexport default Sell;\n","import { useState } from \"react\";\nimport Docks from \"./Docks\";\nimport MiniMenu from \"../MiniMenu\";\nimport Add from \"../MiniModals/Add\";\nimport Info from \"../MiniModals/Info\";\nimport Remove from \"../MiniModals/Remove\";\nimport Buy from \"../MiniModals/Buy\";\nimport Sell from \"../MiniModals/Sell\";\nimport Modal from \"../Modals/index\";\n\nconst Menu = () => {\n\tconst [modal, setModalType] = useState(\"\");\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\n\treturn (\n\t\t<>\n\t\t\t<MiniMenu setModalType={setModalType} setIsModalOpen={setIsModalOpen} />\n\t\t\t<Docks />\n\t\t\t{isModalOpen && (\n\t\t\t\t<Modal className=\"mini-menu-modal\" setIsOpen={setIsModalOpen}>\n\t\t\t\t\t{modal === \"info\" && <Info setIsOpen={setIsModalOpen} />}\n\t\t\t\t\t{modal === \"add\" && <Add setIsOpen={setIsModalOpen} />}\n\t\t\t\t\t{modal === \"rmv\" && <Remove setIsOpen={setIsModalOpen} />}\n\t\t\t\t\t{modal === \"buy\" && <Buy setIsOpen={setIsModalOpen} />}\n\t\t\t\t\t{modal === \"sell\" && <Sell setIsOpen={setIsModalOpen} />}\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Menu;\n","import { animated } from \"@react-spring/web\";\nimport { memo } from \"react\";\n\nconst getImage = (cellData) => {\n\t//\n\tif (cellData.x === 0 && cellData.y === 0) return \"spawn\";\n\tif (cellData.seed === -1) return \"locked\";\n\tconst mod = cellData.seed % 100;\n\tif (mod > 90) return `pixplot_4`;\n\tif (mod > 80) return `pixplot_3`;\n\tif (mod > 60) return `pixplot_2`;\n\tif (mod > 30) return `pixplot_1`;\n\treturn `pixplot_0`;\n};\n// Cell\nconst Plot = ({ handlePlotClick, owned, cellData }) => {\n\tconst image = getImage(cellData);\n\tlet seed = cellData.seed.toString();\n\treturn (\n\t\t<div\n\t\t\tonClick={() => handlePlotClick(cellData)}\n\t\t\tclassName={`cell plot ${(cellData.x + cellData.y) % 2 ? \"\" : \"bright\"} owned-${owned}`}>\n\t\t\t<img draggable=\"false\" src={`./assets/img/${image}.png`} alt={`${image}.png`} />\n\t\t\t{cellData?.factory ? (\n\t\t\t\t<img\n\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\tclassName=\"factory\"\n\t\t\t\t\tstyle={{ top: `${seed[1]}%`, left: `${seed[0]}%` }}\n\t\t\t\t\tsrc={`./assets/img/factories/factory_${cellData.factory.type}.gif`}\n\t\t\t\t\talt={`${\"factory\"}.png`}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t\t{/* <h1>{cellData?.owner?.id}</h1> */}\n\t\t</div>\n\t);\n};\n\n// Cloud\nconst Cloud = () => {\n\treturn (\n\t\t<div className={`cell ${Math.round(Math.random()) ? \"bright cloud\" : \"cloud\"}`}>\n\t\t\t<img draggable=\"false\" src=\"./assets/img/cloud.png\" alt=\"\" />\n\t\t</div>\n\t);\n};\n\n// Grid Centre Indicator\nconst CentreCounter = ({ backgroundColor, centreDelta }) => {\n\treturn (\n\t\t<animated.span id=\"centre\" style={{ backgroundColor }}>\n\t\t\t<animated.span>{centreDelta}</animated.span>\n\t\t</animated.span>\n\t);\n};\nconst MemoPlot = memo(Plot);\nconst MemoCloud = memo(Cloud);\n\nexport { MemoPlot, MemoCloud, CentreCounter };\n","import { animated } from \"@react-spring/web\";\nimport { useContext } from \"react\";\nimport { GameContext } from \"../context/GameContext\";\nimport { Web3Context } from \"../context/Web3Context\";\nimport { MemoPlot, MemoCloud } from \"./GameComponents\";\n\n// Game Grid Component\nconst LandGrid = () => {\n\tconst { chunkCentre, dragBind, gridData, handlePlotClick, top, left } = useContext(GameContext);\n\tconst { account } = useContext(Web3Context);\n\n\tconst templateGridArray = Array.from({ length: 31 }, (_, y) => {\n\t\tif (y < 5 || y >= 26)\n\t\t\treturn Array.from({ length: 31 }, (_, x) => {\n\t\t\t\treturn { cloud: true, x: x - 15 + chunkCentre[0], y: -y + 15 + chunkCentre[1] };\n\t\t\t});\n\t\treturn Array.from({ length: 31 }, (_, x) => {\n\t\t\tif (x < 5 || x >= 26)\n\t\t\t\treturn { cloud: true, x: x - 15 + chunkCentre[0], y: -y + 15 + chunkCentre[1] };\n\t\t\treturn (\n\t\t\t\tgridData?.[`${x - 15 + chunkCentre[0]},${-y + 15 + chunkCentre[1]}`] || {\n\t\t\t\t\tseed: -1,\n\t\t\t\t\tx: x - 15 + chunkCentre[0],\n\t\t\t\t\ty: -y + 15 + chunkCentre[1],\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t});\n\treturn (\n\t\t<animated.div className=\"grid-container\" {...dragBind()}>\n\t\t\t<animated.div className=\"grid\" style={{ top, left }}>\n\t\t\t\t{templateGridArray.map((row, row_ind) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"row\" key={row_ind}>\n\t\t\t\t\t\t\t{row.map((cell, col_ind) => {\n\t\t\t\t\t\t\t\treturn !cell?.cloud ? (\n\t\t\t\t\t\t\t\t\t<MemoPlot\n\t\t\t\t\t\t\t\t\t\thandlePlotClick={handlePlotClick}\n\t\t\t\t\t\t\t\t\t\tcellData={gridData?.[`${cell.x},${cell.y}`] || cell}\n\t\t\t\t\t\t\t\t\t\tblock={[cell.x, cell.y]}\n\t\t\t\t\t\t\t\t\t\tkey={[cell.x, cell.y]}\n\t\t\t\t\t\t\t\t\t\towned={account && cell?.owner?.id === account}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<MemoCloud key={[row_ind - col_ind]} />\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{}\n\t\t\t</animated.div>\n\t\t</animated.div>\n\t);\n};\nexport default LandGrid;\n","// import { useState, useEffect, useContext } from \"react\";\nimport \"./styles/index.scss\";\nimport Menu from \"./components/Menu/\";\nimport LandGrid from \"./components/LandGrid\";\nimport { Web3ContextProvider } from \"./context/Web3Context\";\nimport { GameContext, GameContextProvider } from \"./context/GameContext\";\nimport { useContext } from \"react\";\n\nconst App = () => {\n\tconst { cellSize } = useContext(GameContext);\n\n\treturn (\n\t\t<Web3ContextProvider>\n\t\t\t<GameContextProvider>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<style>\n\t\t\t\t\t\t{`.cell{\n\t\t\t\t\t\t\theight:${cellSize}px;\n\t\t\t\t\t\t\twidth:${cellSize}px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`}\n\t\t\t\t\t</style>\n\t\t\t\t\t<LandGrid />\n\t\t\t\t\t{/* <CentreCounter backgroundColor={backgroundColor} centreDelta={centreDelta} /> */}\n\t\t\t\t\t<Menu />\n\t\t\t\t</div>\n\t\t\t</GameContextProvider>\n\t\t</Web3ContextProvider>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ApolloClient, InMemoryCache, ApolloProvider } from \"@apollo/client\";\n\nconst defaultOptions = {\n\twatchQuery: {\n\t\t// fetchPolicy: \"no-cache\",\n\t\tfetchPolicy: \"network-only\",\n\t\terrorPolicy: \"ignore\",\n\t},\n\tquery: {\n\t\tfetchPolicy: \"network-only\",\n\t\terrorPolicy: \"all\",\n\t},\n};\nconst client = new ApolloClient({\n\turi: \"https://okexgraph.overclockedbrains.co/subgraphs/name/MarsMello\",\n\tcache: new InMemoryCache(),\n\tdefaultOptions: defaultOptions,\n});\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ApolloProvider client={client}>\n\t\t\t<App />\n\t\t</ApolloProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}