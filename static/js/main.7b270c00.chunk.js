(this.webpackJsonpmarsmello=this.webpackJsonpmarsmello||[]).push([[0],{275:function(e){e.exports=JSON.parse('{"contractName":"MarsmelloGame","abi":[{"inputs":[{"internalType":"address","name":"_MLO","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"claimer","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint16","name":"ftype","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"efficiency","type":"uint16"},{"indexed":true,"internalType":"int32","name":"x","type":"int32"},{"indexed":true,"internalType":"int32","name":"y","type":"int32"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"FactoryE","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"FactoryNameChange","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint128[]","name":"flows","type":"uint128[]"}],"name":"FlowChange","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"int32","name":"x","type":"int32"},{"indexed":true,"internalType":"int32","name":"y","type":"int32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint64","name":"factory","type":"uint64"},{"indexed":false,"internalType":"uint128","name":"seed","type":"uint128"}],"name":"LandE","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"a","type":"address"}],"name":"chechUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserData","outputs":[{"internalType":"uint64[]","name":"","type":"uint64[]"},{"components":[{"internalType":"int32","name":"x","type":"int32"},{"internalType":"int32","name":"y","type":"int32"}],"internalType":"struct MarsmelloGame.CoOrdinates[]","name":"","type":"tuple[]"},{"internalType":"uint128[]","name":"","type":"uint128[]"},{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLandPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"rand","type":"uint256"}],"name":"getRandomNumber","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"price","type":"uint128"},{"internalType":"bool","name":"land_dependent","type":"bool"},{"internalType":"uint128[]","name":"r1","type":"uint128[]"},{"internalType":"int128[]","name":"r2","type":"int128[]"}],"name":"addFactoryType","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deletefactoryType","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getFactoryType","outputs":[{"components":[{"internalType":"uint128","name":"price","type":"uint128"},{"components":[{"internalType":"uint128","name":"id","type":"uint128"},{"internalType":"int128","name":"rate","type":"int128"}],"internalType":"struct MarsmelloGame.Resource[]","name":"resources","type":"tuple[]"},{"internalType":"bool","name":"land_dependent","type":"bool"}],"internalType":"struct MarsmelloGame.Factory_type[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_address","type":"address"}],"name":"addResource","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"token_address","type":"address"}],"name":"editResource","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deleteResource","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getResource","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint16","name":"ftype","type":"uint16"}],"name":"mintFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"id","type":"uint64"},{"internalType":"string","name":"name","type":"string"}],"name":"changeFactoryName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint128","name":"seed","type":"uint128"},{"internalType":"uint64","name":"ftype","type":"uint64"}],"name":"getLandRate","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"int32","name":"x","type":"int32"},{"internalType":"int32","name":"y","type":"int32"}],"name":"mintLand","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"fid","type":"uint64"}],"name":"removeFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"fid","type":"uint64"},{"internalType":"int32","name":"x","type":"int32"},{"internalType":"int32","name":"y","type":"int32"}],"name":"placeFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"int32","name":"x","type":"int32"},{"internalType":"int32","name":"y","type":"int32"}],"name":"transferLand","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint64","name":"factory_id","type":"uint64"}],"name":"transferFactory","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int32","name":"x","type":"int32"},{"internalType":"int32","name":"y","type":"int32"}],"name":"getLand","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint64","name":"factory","type":"uint64"},{"internalType":"uint128","name":"seed","type":"uint128"}],"internalType":"struct MarsmelloGame.Land","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}]}')},288:function(e,t,n){},301:function(e,t){},310:function(e,t){},328:function(e,t){},330:function(e,t){},347:function(e,t){},348:function(e,t){},409:function(e,t){},411:function(e,t){},443:function(e,t){},445:function(e,t){},446:function(e,t){},451:function(e,t){},453:function(e,t){},459:function(e,t){},461:function(e,t){},474:function(e,t){},486:function(e,t){},489:function(e,t){},494:function(e,t){},502:function(e,t){},56:function(e){e.exports=JSON.parse('{"0":{"name":"Iron","symbol":"FE"},"1":{"name":"Aluminium","symbol":"AL"},"2":{"name":"Copper","symbol":"CU"},"3":{"name":"Gold","symbol":"AU"},"4":{"name":"Titanium","symbol":"TI"}}')},584:function(e,t,n){},585:function(e,t,n){},586:function(e,t,n){},587:function(e,t,n){},588:function(e,t,n){},589:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(123),i=n.n(s),l=(n(288),n(11)),r=n(26),o=n(22),d=n.n(o),u=n(43),j=n(102),p=n(604),m=n(605),b=n(130),v=n.n(b),y=n(273),f=n.n(y),O=n(274),x=n.n(O),h=n(275);var g,N,C=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},w=n(0),k="0x41e418178a89F94968699ac9447836b04A349fC9",M=Object(a.createContext)({web3:void 0,account:void 0,getWeb3ModalProvider:function(){},disconnectProvider:function(){},balances:{mlo:0,fe:0,au:0,ti:0,cu:0,al:0},providerName:"none"}),T=Object(p.a)(g||(g=Object(j.a)(["\n\tquery GetUser($userId: String!) {\n\t\tuser(id: $userId) {\n\t\t\tmlo\n\t\t\tfe\n\t\t\tal\n\t\t\tcu\n\t\t\tau\n\t\t\tti\n\t\t\tlastclaimed\n\t\t\tfactories {\n\t\t\t\tid\n\t\t\t\tx\n\t\t\t\ty\n\t\t\t\tname\n\t\t\t\ttype\n\t\t\t\tefficiency\n\t\t\t}\n\t\t\tlands {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]))),I=Object(p.a)(N||(N=Object(j.a)(["\n\tquery GetUserLands($userId: String!) {\n\t\tuser(id: $userId) {\n\t\t\tlands {\n\t\t\t\tid\n\t\t\t\tseed\n\t\t\t\tfactory {\n\t\t\t\t\tid\n\t\t\t\t\ttype\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t\tx\n\t\t\t\ty\n\t\t\t}\n\t\t}\n\t}\n"]))),S=(x.a,new f.a({network:{chainId:256,nodeUrl:"https://http-testnet.hecochain.com"},cacheProvider:!0,theme:"dark"})),F=function(e){var t,n,c=Object(a.useState)(),s=Object(l.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)("None"),p=Object(l.a)(j,2),b=p[0],y=p[1],f=Object(a.useState)(),O=Object(l.a)(f,2),x=O[0],g=O[1],N=Object(a.useState)(new v.a),F=Object(l.a)(N,2),L=F[0],P=F[1],D=Object(a.useState)({}),_=Object(l.a)(D,2),B=_[0],A=_[1],E=Object(a.useState)(),R=Object(l.a)(E,2),U=R[0],G=R[1],W=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=4;break}(null===i||void 0===i?void 0:i._portis)&&i._portis.showPortis(),e.next=9;break;case 4:return e.next=6,S.connect();case 6:t=e.sent,P(new v.a(t)),o(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){L.currentProvider&&Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.eth.getAccounts();case 2:t=e.sent,G(t[0].toLowerCase());case 4:case"end":return e.stop()}}),e)})))(),i&&((null===i||void 0===i?void 0:i._portis)?(y("portis"),i._portis.showPortis()):y("metamask"),g(new L.eth.Contract(h.abi,k)),i.on("accountsChanged",function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Provider Listener: Account Change"),G(t[0].toLowerCase());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.on("chainChanged",(function(e){console.log("Provider Listener: Chain Change",e)})),i.on("connect",(function(e){console.log("Provider Listener: Connected")})),i.on("disconnect",(function(e){console.log("Provider Listener: Disconnect",e),G()})))}),[i,L]);var $=Object(m.a)(T),J=Object(l.a)($,2),Y=J[0],V=J[1].data,X=Object(m.a)(I,{variables:{userId:U}}),q=Object(l.a)(X,2),z=q[0],Q=q[1].data;Object(a.useEffect)((function(){console.log("==> Changed account",U),U&&Y({variables:{userId:U}})}),[U]),C((function(){U&&Y({variables:{userId:U}})}),1e4),Object(a.useEffect)((function(){var e,t,n,a,c,s;console.log(V),A({mlo:null===V||void 0===V||null===(e=V.user)||void 0===e?void 0:e.mlo,fe:null===V||void 0===V||null===(t=V.user)||void 0===t?void 0:t.fe,al:null===V||void 0===V||null===(n=V.user)||void 0===n?void 0:n.al,au:null===V||void 0===V||null===(a=V.user)||void 0===a?void 0:a.au,cu:null===V||void 0===V||null===(c=V.user)||void 0===c?void 0:c.cu,ti:null===V||void 0===V||null===(s=V.user)||void 0===s?void 0:s.ti})}),[V]);var H=Object(r.useSpring)((function(){return{landPrice:0}})),K=Object(l.a)(H,2),Z=K[0].landPrice,ee=K[1],te=Object(a.useCallback)(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.methods.getLandPrice().call();case 2:t=e.sent,ee.start({landPrice:parseFloat((t/Math.pow(10,18)).toFixed(2))});case 4:case"end":return e.stop()}}),e)}))),[x]),ne=Object(a.useCallback)((function(e,t){if(e&&t)return x.methods.mintLand(e,t).send({from:U})}),[x,U]);return Object(w.jsx)(M.Provider,{value:{account:U,provider:i,providerName:b,userLandData:Q,landPrice:Z,buyFactory:function(e,t){return x.methods.mintFactory(e,t).send({from:U})},buyLand:ne,changeFactoryName:function(e,t){return x.methods.changeFactoryName(e,t).send({from:U})},removeFactory:function(e){return x.methods.removeFactory(e).send({from:U})},placeFactory:function(e,t,n){return x.methods.placeFactory(e,t,n).send({from:U})},transferLand:function(e,t,n){return x.methods.transferLand(e,t,n).send({from:U})},transferFactory:function(e,t){return x.methods.transferFactory(e,t).send({from:U})},claimAll:function(){return x.methods.claimAll().send({from:U})},getLandPrice:te,loadUserLandData:z,userData:null===V||void 0===V?void 0:V.user,getUserLands:{},lastClaimed:null===V||void 0===V||null===(t=V.user)||void 0===t?void 0:t.lastclaimed,factories:null===V||void 0===V||null===(n=V.user)||void 0===n?void 0:n.factories,balances:B,getWeb3ModalProvider:W,disconnectProvider:function(){console.log("Disconnect"),G(void 0),o(void 0),y("None"),P(new v.a),S.clearCachedProvider()}},children:e.children})},L=function(e){if(!e)return 0;return(e/=Math.pow(10,18))/1e9>=1?"".concat(Math.floor(e/1e8)/10,"B"):e/1e6>=1?"".concat(Math.floor(e/1e5)/10,"M"):e/1e3>=1?"".concat(Math.floor(e/100)/10,"K"):(Math.floor(10*e)/10).toString()};function P(e,t,n){var a=e;if(t>0||n<1)if(e<t)a=0;else if(e>n)a=1;else{a=(e-t)/(n-t)}var c=function(e,t,n){var a,c,s;if(0===t)a=c=s=n;else{var i=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=n<.5?n*(1+t):n+t-n*t,r=2*n-l;a=i(r,l,e+1/3),c=i(r,l,e),s=i(r,l,e-1/3)}return[Math.round(255*a),Math.round(255*c),Math.round(255*s)]}(1.2*a/3.6,1,.5);return"rgb("+c[0]+","+c[1]+","+c[2]+")"}var D,_,B,A=function(){var e=Object(a.useContext)(M),t=e.account,n=e.getWeb3ModalProvider,c=e.balances,s=e.lastClaimed,i=Object(r.useSpring)((function(){return{borderColor:P(50,.3,.7),background:P(50,.3,.7),width:"50%",config:r.config.molasses}})),o=Object(l.a)(i,2),d=o[0],u=o[1];return C((function(){if(t)if(s){u.stop();var e=(Date.now()-1e3*parseInt(s))/86400/24;u.start({borderColor:P((100-e)/100,.3,.7),background:P((100-e)/100,.3,.7),width:"".concat(Math.floor(e/2+50),"%")})}else u.start({borderColor:P(100,.3,.7),background:P(100,.3,.7),width:"".concat(Math.floor(50),"%")});else{u.stop();var n=Math.round(100*Math.random());u.start({borderColor:P((100-n)/100,.3,.7),background:P((100-n)/100,.3,.7),width:"".concat(Math.floor(n/2+50),"%")})}}),5e3),Object(w.jsxs)("div",{className:"topbar bar",children:[Object(w.jsxs)("div",{className:"item Fe",children:[Object(w.jsx)("div",{className:"value",children:Object(w.jsx)("h1",{children:L(null===c||void 0===c?void 0:c.fe)})}),Object(w.jsx)("div",{className:"key",children:Object(w.jsx)("h3",{children:"Fe"})})]}),Object(w.jsxs)("div",{className:"item Au",children:[Object(w.jsx)("div",{className:"value",children:Object(w.jsx)("h1",{children:L(null===c||void 0===c?void 0:c.au)})}),Object(w.jsx)("div",{className:"key",children:Object(w.jsx)("h3",{children:"Au"})})]}),Object(w.jsxs)("div",{className:"item Ti",children:[Object(w.jsx)("div",{className:"value",children:Object(w.jsx)("h1",{children:L(null===c||void 0===c?void 0:c.ti)})}),Object(w.jsx)("div",{className:"key",children:Object(w.jsx)("h3",{children:"Ti"})})]}),Object(w.jsxs)("div",{className:"item Cu",children:[Object(w.jsx)("div",{className:"value",children:Object(w.jsx)("h1",{children:L(null===c||void 0===c?void 0:c.cu)})}),Object(w.jsx)("div",{className:"key",children:Object(w.jsx)("h3",{children:"Cu"})})]}),Object(w.jsxs)("div",{className:"item Al",children:[Object(w.jsx)("div",{className:"value",children:Object(w.jsx)("h1",{children:L(null===c||void 0===c?void 0:c.al)})}),Object(w.jsx)("div",{className:"key",children:Object(w.jsx)("h3",{children:"Al"})})]}),Object(w.jsx)("div",{className:"holding ".concat(t?"":"not-","connected"),onClick:n,children:t?Object(w.jsxs)("span",{className:"cta",children:[Object(w.jsx)("span",{className:"bal",children:"Balance"}),Object(w.jsxs)("span",{className:"main",children:[L(null===c||void 0===c?void 0:c.mlo),Object(w.jsx)("span",{children:"MLO"})]})]}):Object(w.jsx)("span",{className:"cta",children:"Connect Wallet"})}),Object(w.jsx)("div",{className:"claim-progress",children:Object(w.jsx)(r.animated.div,{className:"progress",style:d})})]})},E=(n(584),function(e){var t=e.id,n=e.className,a=e.src,c=e.alt,s=e.onClick,i=e.dataname,l=e.disabled;return Object(w.jsx)("button",{className:"img-btn hover-info ".concat(n),"data-name":i,disabled:l,onClick:s,children:Object(w.jsx)("img",{id:t,className:n,src:a,alt:c,draggable:"false"})})}),R=function(e){var t=e.handleClick,n=e.avatar;return Object(w.jsxs)("div",{className:"sidebar bar",children:[Object(w.jsx)(E,{id:"profile",dataname:"Profile",className:"profile",onClick:function(e){return t(e)},src:"./assets/avatars/avatars".concat(n,".png"),alt:"Profile Button"}),Object(w.jsx)(E,{id:"factory",dataname:"Factory",className:"factory",onClick:function(e){return t(e)},src:"./assets/img/factory.png",alt:"Factory Button"}),Object(w.jsx)(E,{id:"resos",dataname:"Resources",className:"resos",onClick:function(e){return t(e)},src:"./assets/img/miner.png",alt:"Miner Button"}),Object(w.jsx)(E,{id:"plots",dataname:"Plots",className:"plots",onClick:function(e){return t(e)},src:"./assets/img/plots.png",alt:"Plots Button"})]})},U=function(e){var t=e.xy,n=e.setModal;return Object(w.jsxs)("div",{className:"bottombar bar",children:[Object(w.jsxs)("div",{className:"x-cord cords",children:["X, Y: (",Object(w.jsx)(r.animated.span,{children:t}),")"]}),Object(w.jsx)(E,{id:"teleport",dataname:"Teleport",className:"teleport",src:"./assets/img/teleport.png",alt:"teleport",onClick:function(){return n(!0)}})]})},G=(n(585),function(e){var t=e.children,n=e.setIsOpen,c=(e.modalVisible,e.className),s=function(e){i.current.contains(e.target)||n(!1)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}}),[]);var i=Object(a.useRef)();return Object(w.jsx)(r.animated.div,{className:"modal-bg",children:Object(w.jsxs)("div",{className:"modal ".concat(c),ref:i,children:[Object(w.jsx)("button",{onClick:function(){return n(!1)},className:"close",children:"[X]"}),Object(w.jsx)("div",{className:"content",children:t})]})})}),W=(n(586),function(e){var t=e.children,n=e.setIsMiniModal,c=function(e){s.current.contains(e.target)||n(!1)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}),[]);var s=Object(a.useRef)();return Object(w.jsx)("div",{className:"modal-bg",children:Object(w.jsxs)("div",{className:"mini-modal",ref:s,children:[Object(w.jsx)("button",{onClick:function(){n(!1)},className:"close",children:"[X]"}),t]})})}),$=function(e){var t=e.avatar,n=e.setAvatar,c=Object(a.useContext)(M),s=c.account,i=c.providerName,r=c.disconnectProvider,o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],j=d[1];return Object(w.jsxs)("div",{className:"profile",children:[Object(w.jsxs)("div",{className:"picture",children:[Object(w.jsx)("img",{src:"./assets/avatars/avatars".concat(t,".png"),alt:"avatar"}),Object(w.jsx)("p",{onClick:function(){j(!0)},children:"Change avatar"})]}),Object(w.jsxs)("div",{className:"data",children:[Object(w.jsxs)("h1",{children:[Object(w.jsx)("span",{children:"Wallet Address "}),"".concat(s)]}),Object(w.jsxs)("h1",{children:[Object(w.jsx)("span",{children:"Wallet Provider"}),i]})]}),Object(w.jsxs)("div",{className:"btns",children:[Object(w.jsx)("button",{className:"dc",onClick:function(){return r()},children:"Disconnect Wallet"}),Object(w.jsxs)("button",{className:"change",children:["Change ",Object(w.jsx)("br",{}),"Wallet"]})]}),u&&Object(w.jsxs)(W,{setIsMiniModal:j,children:[Object(w.jsx)("span",{children:"Choose a avatar"}),Object(w.jsxs)("div",{className:"options",children:[Object(w.jsx)(E,{dataname:"Satoshi",onClick:function(){n(0),j(!1)},src:"./assets/avatars/avatars0.png",alt:"avatar Satoshi"}),Object(w.jsx)(E,{dataname:"Jeff",onClick:function(){n(1),j(!1)},src:"./assets/avatars/avatars1.png",alt:"avatar Jeff"}),Object(w.jsx)(E,{dataname:"Biju",onClick:function(){n(2),j(!1)},src:"./assets/avatars/avatars2.png",alt:"avatar Biju"}),Object(w.jsx)(E,{dataname:"Vitalik",onClick:function(){n(3),j(!1)},src:"./assets/avatars/avatars3.png",alt:"avatar Vitalik"}),Object(w.jsx)(E,{dataname:"Elon",onClick:function(){n(4),j(!1)},src:"./assets/avatars/avatars4.png",alt:"avatar Elon"})]})]})]})},J=(n(587),function(e){var t=e.className,n=e.id,a=e.children,c=e.onClick;return Object(w.jsx)("div",{className:"card ".concat(t),id:n,onClick:c,children:a})}),Y=function(e,t){var n;return n={0:!0,1:!0,2:!0,3:!0,4:!0}[t]?50+e/Math.pow(10,t%35)%51:100,parseInt({0:100,1:50,2:20,3:10,4:5}[t]*n/100)},V=function(e){var t=e.cellData,n=function(e){if(0===e.x&&0===e.y)return"spawn";if(-1===e.seed)return"locked";var t=e.seed%100;return t>90?"pixplot_4":t>80?"pixplot_3":t>60?"pixplot_2":t>30?"pixplot_1":"pixplot_0"}(t),a=t.seed.toString();return Object(w.jsxs)("div",{className:"land-preview",children:[Object(w.jsx)("img",{draggable:"false",src:"./assets/img/".concat(n,".png"),alt:"".concat(n,".png")}),(null===t||void 0===t?void 0:t.factory)?Object(w.jsx)("img",{draggable:"false",className:"factory",style:{top:"".concat(a[1],"%"),left:"".concat(a[0],"%")},src:"./assets/img/factories/factory_".concat(t.factory.type,".png"),alt:"factory".concat(".png")}):null]})},X=function(){var e,t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useContext)(M),r=i.userLandData,o=i.loadUserLandData;return Object(a.useEffect)((function(){o()}),[]),Object(w.jsxs)("div",{className:"plots",children:[Object(w.jsx)("h1",{children:"Lands"}),Object(w.jsxs)("div",{className:"tabs",children:[Object(w.jsx)("div",{onClick:function(){s(0)},className:0===c?"tab owned active":"tab owned",children:"Owned"}),Object(w.jsx)("div",{onClick:function(){s(1)},className:1===c?"tab owned active":"tab owned",children:"Market Place"})]}),0===c?Object(w.jsx)("div",{className:"content owned",children:null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.lands.map((function(e){return Object(w.jsxs)(J,{className:"plot-card",children:[Object(w.jsx)("section",{className:"card-left",children:Object(w.jsx)(V,{cellData:e})}),Object(w.jsxs)("section",{className:"card-right",children:[Object(w.jsxs)("div",{className:"ore",children:[Object(w.jsx)("span",{className:"label",children:"Ore Distribution:"}),Object(w.jsx)("span",{className:"dist fe",children:"fe"}),Object(w.jsx)("span",{className:"val fe",children:"".concat(Y(e.seed,0),"%")}),Object(w.jsx)("span",{className:"dist au",children:"al"}),Object(w.jsx)("span",{className:"val au",children:"".concat(Y(e.seed,1),"%")}),Object(w.jsx)("span",{className:"dist cu",children:"cu"}),Object(w.jsx)("span",{className:"val cu",children:"".concat(Y(e.seed,2),"%")}),Object(w.jsx)("span",{className:"dist ti",children:"au"}),Object(w.jsx)("span",{className:"val ti",children:"".concat(Y(e.seed,3),"%")}),Object(w.jsx)("span",{className:"dist al",children:"ti"}),Object(w.jsx)("span",{className:"val al",children:"".concat(Y(e.seed,4),"%")})]}),Object(w.jsx)("div",{className:"is-factory",children:e.factory?"".concat(e.factory.name," with id ").concat(e.factory.id," placed"):"no factory on land"}),Object(w.jsxs)("div",{className:"cords",children:[Object(w.jsx)("span",{className:"x-label label",children:"X:"}),Object(w.jsx)("span",{className:"x-value value",children:e.x}),Object(w.jsx)("span",{className:"y-label label",children:"Y:"}),Object(w.jsx)("span",{className:"y-value value",children:e.y})]}),Object(w.jsx)("button",{className:"sell",children:"send"})]})]},e.id)}))}):Object(w.jsx)("div",{className:"content market",children:Object(w.jsx)("div",{className:"ingame",children:Object(w.jsx)("button",{className:"buy-btn",children:"Buy a New Land"})})})]})},q=[{type:0,produce:"fe",name:"Iron Mine",rates:[50,100],price:500},{type:1,produce:"al",name:"Aluminium Quarry",rates:[25,50],price:800},{type:2,produce:"cu",name:"Copper Well",rates:[10,20],price:1e3},{type:3,produce:"au",name:"Gold Mine",rates:[5,10],price:1200},{type:4,produce:"ti",name:"Titanium Quarry",rates:[2,5],price:1500}],z=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)(M),i=s.factories,r=s.buyFactory;return Object(w.jsxs)("div",{className:"factory",children:[Object(w.jsx)("h1",{children:"Factories"}),Object(w.jsxs)("div",{className:"tabs",children:[Object(w.jsx)("div",{onClick:function(){c(0)},className:0===n?"tab owned active":"tab owned",children:"Owned"}),Object(w.jsx)("div",{onClick:function(){c(1)},className:1===n?"tab owned active":"tab owned",children:"Market Place"})]}),0===n?Object(w.jsx)("div",{className:"content owned",children:i?i.map((function(e){var t=e.name,n=e.id,a=e.x,c=e.y,s=e.type,i=e.efficiency;return Object(w.jsxs)(J,{children:[Object(w.jsxs)("section",{className:"card-left",children:[Object(w.jsx)("img",{src:"./assets/img/factories/factory_".concat(s,".png"),alt:""}),Object(w.jsxs)("span",{className:"rate",children:["".concat(i,"% "),Object(w.jsx)("span",{className:"unit",children:"efficient"})]})]}),Object(w.jsxs)("section",{className:"card-right",children:[Object(w.jsx)("div",{className:"name",children:Object(w.jsx)("span",{className:"value",children:t})}),Object(w.jsxs)("div",{className:"produce",children:[Object(w.jsx)("span",{className:"label",children:"Produce:"}),Object(w.jsx)("span",{className:"high",children:q[s].produce})]}),Object(w.jsx)("div",{className:"placed",children:a&&c?Object(w.jsxs)("span",{children:["Factory place at ",Object(w.jsx)("span",{className:"high",children:"(".concat(a,", ").concat(c,")")})]}):Object(w.jsx)("span",{children:"factory not placed"})}),Object(w.jsxs)("div",{className:"btns",children:[Object(w.jsx)("button",{className:"sell",title:"Sell the factory",children:"Sell"}),Object(w.jsx)("button",{className:"place",children:"Place"})]})]})]},n)})):Object(w.jsx)("h1",{children:"Cricket Noises..."})}):Object(w.jsx)("div",{className:"content market",children:q.map((function(e){var t=e.type,n=e.name,a=e.rates,c=e.price;return Object(w.jsxs)(J,{className:"owned-2",children:[Object(w.jsxs)("section",{className:"card-left",children:[Object(w.jsx)("img",{src:"./assets/img/factories/factory_".concat(t,".png"),alt:""}),Object(w.jsxs)("span",{className:"rate",children:[a[0],"-",a[1],Object(w.jsx)("span",{className:"unit",children:"/hr"})]})]}),Object(w.jsxs)("section",{className:"card-right",children:[Object(w.jsx)("span",{className:"title",children:n}),Object(w.jsxs)("span",{className:"price",children:[c,Object(w.jsx)("span",{className:"token",children:"MLO"})]}),Object(w.jsx)("button",{onClick:function(){return r(n,t)},className:"bid",children:"Buy"})]})]},t)}))})]})},Q=n(56),H=function(){var e,t,n=Object(a.useContext)(M),c=n.balances,s=n.claimAll,i=n.userData,l=n.lastClaimed;return Object(w.jsxs)("div",{className:"resos",children:[Object(w.jsx)("h1",{children:"Resources"}),Object(w.jsxs)("div",{className:"content",children:[Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("button",{onClick:s,children:"Claim all Resources"}),Object(w.jsxs)("span",{children:["Last Claimed ",Math.round((Date.now()-1e3*parseInt(l))/86400)," hours ago"]})]}),Object(w.jsx)("h3",{children:"Your Resources"}),Object(w.jsxs)("main",{children:[Object(w.jsx)("div",{className:"ores",children:Object.keys(Q).map((function(e,t){return Object(w.jsxs)("div",{className:"".concat(Q[e].name.toLowerCase()," item"),children:[Object(w.jsx)("span",{className:"label",children:Q[e].symbol}),Object(w.jsx)("span",{className:"value",children:L(c[Q[e].symbol.toLowerCase()])})]},e)}))}),Object(w.jsxs)("div",{className:"others",children:[Object(w.jsxs)("div",{className:"plots item",children:[Object(w.jsx)("span",{className:"label",children:"Lands"}),Object(w.jsx)("span",{className:"value",children:null===i||void 0===i||null===(e=i.lands)||void 0===e?void 0:e.length})]}),Object(w.jsxs)("div",{className:"factories item",children:[Object(w.jsx)("span",{className:"label",children:"Factories"}),Object(w.jsx)("span",{className:"value",children:null===i||void 0===i||null===(t=i.factories)||void 0===t?void 0:t.length})]})]})]})]})]})},K=(n(588),n(101)),Z=n(38),ee=n(104),te=n(278),ne=window.innerHeight,ae=window.innerWidth,ce=Math.max(ae,ne)/10,se=31*ce,ie=(null===(D=localStorage.getItem("centreDelta"))||void 0===D?void 0:D.split(",").map((function(e,t){return parseInt(e)})))||[0,0],le=(null===(_=localStorage.getItem("chunkCentre"))||void 0===_?void 0:_.split(",").map((function(e){return parseInt(e)})))||[0,0],re=[-(se-ne)/2,-(se-ae)/2],oe=Object(a.createContext)({top:parseFloat(localStorage.getItem("top"))||re[1],left:parseFloat(localStorage.getItem("left"))||re[0],centreDelta:ie,chunkCentre:le,miniMenuStyles:{},xy:[le[0]+ie[0],le[1]+ie[1]],backgroundColor:"white",cellSize:ce,gridData:{},miniMenuApi:{},closeMiniMenu:function(){},selectedBlock:function(){},handlePlotClick:function(){},handleMiniClick:function(){},dragBind:function(){},setIsMiniModal:function(){},teleport:function(){}}),de=function(e){var t,n,c,s=window.innerHeight,i=window.innerWidth,o=Math.max(i,s)/10,j=31*o,p=5*o,b=[-(j-s)/2,-(j-i)/2],v=parseFloat(localStorage.getItem("top"))||b[0],y=parseFloat(localStorage.getItem("left"))||b[1],f=(null===(t=localStorage.getItem("centreDelta"))||void 0===t?void 0:t.split(",").map((function(e,t){return parseInt(e)})))||[0,0],O=function(e,t){return[Math.floor((-t-p+i/2)/o)-10,10-Math.floor((-e-p+s/2)/o)]},x=function(e,t){var n=.7*p;return-e<n||-e>j-n-s||(-t<n||-t>j-n-i)},h=Object(a.useState)((null===(n=localStorage.getItem("chunkCentre"))||void 0===n?void 0:n.split(",").map((function(e){return parseInt(e)})))||[0,0]),g=Object(l.a)(h,2),N=g[0],k=g[1],T=Object(a.useState)(!1),I=Object(l.a)(T,2),S=I[0],F=I[1],L=Object(a.useState)((null===(c=localStorage.getItem("chunkCentre"))||void 0===c?void 0:c.split(",").map((function(e){return parseInt(e)})))||[0,0]),P=Object(l.a)(L,2),D=P[0],_=P[1];Object(a.useEffect)((function(){localStorage.setItem("chunkCentre",N),F(!1)}),[N]);var B=Object(r.useSpring)((function(){return{top:v,left:y,centreDelta:f,xy:[N[0]+f[0],N[1]+f[1]],backgroundColor:"white",config:Object(ee.a)({restVelocity:1},r.config.slow)}})),A=Object(l.a)(B,2),E=A[0],R=E.top,U=E.left,G=E.centreDelta,W=E.backgroundColor,$=E.xy,J=A[1],Y=Object(r.useSpring)((function(){return{width:o,height:o,block:[0,0],top:b[1],left:b[0]}})),V=Object(l.a)(Y,2),X=V[0],q=V[1],z=Object(te.a)((function(e){var t=Object(l.a)(e.movement,2),n=t[0],a=t[1],c=e.tap,s=e.last;if(!S){if(c)return J.stop(),void O(R.goal,U.goal);if(_(),q.set({top:-2*o,left:-2*o}),s)Q(R.goal,U.goal);else{J.start({top:a,left:n});var i=O(R.goal,U.goal);J.set({centreDelta:i,xy:[N[0]+i[0],N[1]+i[1]],backgroundColor:x(R.goal,U.goal)?"red":"white"})}}}),{initial:function(){return[U.get(),R.get()]}}),Q=function(e,t){if(x(e,t))Object(u.a)(d.a.mark((function n(){var a,c,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:F(!0);case 1:if(R.idle&&U.idle){n.next=7;break}return n.next=5,je(500);case 5:n.next=8;break;case 7:return n.abrupt("break",10);case 8:n.next=1;break;case 10:a=O(e,t),c=[e-(s/2+(a[1]-15.5)*o),t-(i/2-(a[0]+15.5)*o)],l=[b[0]+c[0],b[1]+c[1]],k((function(e){var t=[a[0]+e[0],a[1]+e[1]];return J.set({top:l[0],left:l[1]}),t})),J.set({centreDelta:[0,0],backgroundColor:"white"}),ie.apply(void 0,Object(Z.a)(N)),localStorage.setItem("top",l[0]),localStorage.setItem("left",l[1]),localStorage.setItem("centreDelta",[0,0]);case 19:case"end":return n.stop()}}),n)})))();else{var n=O(e,t);J.set({centreDelta:n,backgroundColor:"white",xy:[N[0]+n[0],N[1]+n[1]]}),localStorage.setItem("top",e),localStorage.setItem("left",t),localStorage.setItem("centreDelta",n)}},H=Object(a.useContext)(M).account,ne=Object(m.a)(ue),ae=Object(l.a)(ne,2),ce=ae[0],se=ae[1].data,ie=function(e,t){ce({variables:{x1:e-10,x2:e+10,y1:t-10,y2:t+10}})};Object(a.useEffect)((function(){ie.apply(void 0,Object(Z.a)(N))}),[H]);var le=Object(a.useState)(),re=Object(l.a)(le,2),de=re[0],pe=re[1];C((function(){ie.apply(void 0,Object(Z.a)(N))}),1e4),Object(a.useEffect)((function(){se&&pe((function(){var e,t={},n=Object(K.a)(se.lands);try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a.id]=a}}catch(c){n.e(c)}finally{n.f()}return t}))}),[se]),Object(a.useEffect)((function(){console.log("Grid Data",null===se||void 0===se?void 0:se.lands)}),[se]);var me=function(){_(),q.set({top:-2*o,left:-2*o})};return Object(w.jsx)(oe.Provider,{value:{teleport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;me(),ie(e,t),J.set({top:b[0],left:b[1],centreDelta:[0,0],xy:[e,t],backgroundColor:"white"}),k([e,t]),q.set({}),localStorage.setItem("top",b[0]),localStorage.setItem("left",b[1]),localStorage.setItem("centreDelta",[0,0])},top:R,left:U,centreDelta:G,chunkCentre:N,miniMenuStyles:X,xy:$,backgroundColor:W,miniMenuApi:q,cellSize:o,gridData:de,closeMiniMenu:me,selectedBlock:D,handlePlotClick:function(e,t){if(R.idle&&U.idle){var n=function(e,t){var n=[e-N[0],t-N[1]];return[i/2-((e=n[0])+15.5)*o,s/2+((t=n[1])-15.5)*o]}(e.x,e.y);_(e),q.set({top:R.get()-n[1]+s/2,left:U.get()-n[0]+i/2})}},dragBind:z},children:e.children})},ue=Object(p.a)(B||(B=Object(j.a)(["\n\tquery GetLands($x1: Int!, $x2: Int!, $y1: Int!, $y2: Int!) {\n\t\tlands(where: { x_gte: $x1, x_lte: $x2, y_gte: $y1, y_lte: $y2 }) {\n\t\t\tid\n\t\t\tx\n\t\t\ty\n\t\t\towner {\n\t\t\t\tid\n\t\t\t}\n\t\t\tseed\n\t\t\tfactory {\n\t\t\t\tid\n\t\t\t\ttype\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n"])));function je(e){return new Promise((function(t){return setTimeout(t,e)}))}var pe=Object(a.memo)(U),me=Object(a.memo)(A),be=Object(a.memo)(R),ve=function(){var e=Object(a.useContext)(oe),t=e.xy,n=e.teleport,c=Object(a.useState)(!1),s=Object(l.a)(c,2),i=s[0],r=s[1],o=Object(a.useState)(0),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),b=m[0],v=m[1],y=Object(a.useState)(""),f=Object(l.a)(y,2),O=f[0],x=f[1],h=Object(a.useState)(!1),g=Object(l.a)(h,2),N=g[0],C=g[1],k=Object(a.useState)(""),M=Object(l.a)(k,2),T=M[0],I=M[1];return Object(w.jsxs)("div",{className:"menu",children:[Object(w.jsx)(me,{iron:0,gold:0,copper:0,titanium:0,aluminium:0}),Object(w.jsx)(pe,{xy:t,setModal:C}),Object(w.jsx)(be,{handleClick:function(e){r(!0),I(e.target.id)},avatar:u}),i&&Object(w.jsxs)(G,{modalVisible:i,setIsOpen:r,children:["profile"===T&&Object(w.jsx)($,{avatar:u,setAvatar:j}),"factory"===T&&Object(w.jsx)(z,{}),"resos"===T&&Object(w.jsx)(H,{}),"plots"===T&&Object(w.jsx)(X,{})]}),")",N&&Object(w.jsx)(W,{setIsMiniModal:C,children:Object(w.jsxs)("form",{children:[Object(w.jsxs)("div",{className:"x input",children:[Object(w.jsx)("label",{children:"X: "}),Object(w.jsx)("input",{type:"number",id:"x",name:"x",value:b,onChange:function(e){return v(Number(e.target.value))},placeholder:"0"})]}),Object(w.jsxs)("div",{className:"y input",children:[Object(w.jsx)("label",{children:"Y: "}),Object(w.jsx)("input",{type:"number",id:"y",name:"y",value:O,onChange:function(e){return x(Number(e.target.value))},placeholder:"0"})]}),Object(w.jsx)("button",{className:"tele-btn",type:"submit",onClick:function(e){e.preventDefault(),isNaN(b)&&isNaN(O)||(n(b,O),C(!1),v(""),x(""))},disabled:void 0===b||void 0===O,children:"Teleport"})]})})]})},ye=function(e){var t,n,c=e.setModalType,s=e.setIsModalOpen,i=Object(a.useContext)(oe),l=i.miniMenuStyles,o=i.selectedBlock,d=i.closeMiniMenu,u=Object(a.useContext)(M).account,j=function(e){c(e.target.id),s(!0)};return Object(w.jsxs)(r.animated.div,{className:"mini",style:l,children:[Object(w.jsx)("img",{className:"ring",draggable:"false",src:"./assets/img/circle.png",alt:"circle"}),Object(w.jsxs)("span",{id:"label",children:[null===o||void 0===o?void 0:o.x,",",null===o||void 0===o?void 0:o.y]}),Object(w.jsxs)("div",{className:"btns",children:[-1===(null===o||void 0===o?void 0:o.seed)?Object(w.jsx)(E,{id:"buy",dataname:"Buy Land",className:"buy",src:"./assets/img/plot-buy-v3.png",alt:"buy-land-button",onClick:j,disabled:0===(null===o||void 0===o?void 0:o.x)&&0===(null===o||void 0===o?void 0:o.y)}):Object(w.jsx)(E,{id:"sell",dataname:"Transfer Land",className:"sell",src:"./assets/img/plot-sell-v3.png",alt:"buy-land-button",onClick:j,disabled:(null===o||void 0===o||null===(t=o.owner)||void 0===t?void 0:t.id)!==u}),Object(w.jsx)(E,{onClick:d,id:"exit",dataname:"Exit Menu",className:"exit",src:"./assets/img/plot-rmv-v3.png",alt:"remove-factory-button"}),Object(w.jsx)(E,{id:"info",dataname:"Info",className:"info",src:"./assets/img/plot-info-v3.png",alt:"info-land-button",onClick:j}),(null===o||void 0===o?void 0:o.factory)?Object(w.jsx)(E,{id:"rmv",dataname:"Remove Factory",className:"rmv",src:"./assets/img/fact-destroy.png",alt:"sell-land-button",onClick:j}):Object(w.jsx)(E,{id:"add",dataname:"Place Factory",className:"add",src:"./assets/img/fact-add.png",alt:"info-land-button",onClick:j,disabled:-1===(null===o||void 0===o?void 0:o.seed)||(null===o||void 0===o||null===(n=o.owner)||void 0===n?void 0:n.id)!==u})]})]})},fe=Object(a.memo)(ye),Oe=function(e){var t=e.setIsOpen,n=Object(a.useContext)(oe).selectedBlock,c=Object(a.useContext)(M),s=c.factories,i=c.placeFactory,r=Object(a.useState)(),o=Object(l.a)(r,2),d=o[0],u=o[1];return s?Object(w.jsxs)("div",{className:"add-content content",children:[Object(w.jsxs)("span",{className:"prompt",children:["Choose Factory to place at",Object(w.jsx)("span",{className:"high",children:" (".concat(null===n||void 0===n?void 0:n.x,", ").concat(null===n||void 0===n?void 0:n.y,")")})]}),Object(w.jsxs)("div",{className:"select",children:[Object(w.jsxs)("div",{className:"select-inv",children:[Object(w.jsx)("div",{className:"title-inv select-title",children:"Inventory"}),Object(w.jsx)("div",{className:"select-cards",children:s.map((function(e){var t=e.id,n=e.x,a=e.y,c=e.name,s=e.type,i=e.efficiency;return n&&a?null:Object(w.jsxs)(J,{onClick:function(){return u(t)},className:"inv",id:d===t?"active":null,children:[Object(w.jsx)("section",{className:"card-left",children:Object(w.jsx)("img",{src:"./assets/img/factories/factory_".concat(s,".png"),alt:""})}),Object(w.jsxs)("section",{className:"card-right",children:[Object(w.jsx)("span",{className:"title",children:c}),Object(w.jsxs)("span",{className:"rate",children:[i,"%",Object(w.jsx)("span",{className:"unit",children:" efficient"})]})]})]},t)}))})]}),Object(w.jsxs)("div",{className:"select-tp",children:[Object(w.jsx)("div",{className:"title-tp select-title",children:"Teleport"}),Object(w.jsx)("div",{className:"select-cards",children:s.map((function(e){var t=e.id,n=e.x,a=e.y,c=e.name,s=e.type,i=e.efficiency;return n&&a?Object(w.jsxs)(J,{onClick:function(){return u(t)},className:"tp",id:d===t?"active":null,children:[Object(w.jsx)("section",{className:"card-left",children:Object(w.jsx)("img",{src:"./assets/img/factories/factory_".concat(s,".png"),alt:""})}),Object(w.jsxs)("section",{className:"card-right",children:[Object(w.jsx)("span",{className:"title",children:c}),Object(w.jsxs)("span",{className:"rate",children:[i,"%",Object(w.jsx)("span",{className:"unit",children:" efficient"})]}),Object(w.jsxs)("div",{className:"cords",children:[Object(w.jsx)("span",{className:"cords-label",children:"Current Cords."}),Object(w.jsx)("span",{className:"cords-val",children:" (".concat(n,", ").concat(a,")")})]})]})]},t):null}))})]})]}),Object(w.jsx)("button",{disabled:!d,onClick:function(){i(d,null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y),t(!1)},className:"place-factory",children:"Place"})]}):Object(w.jsxs)("div",{className:"add-content content",children:[Object(w.jsx)("span",{className:"prompt",children:"No Factories in Inventory."}),Object(w.jsx)("button",{className:"buy-fact",children:"Buy a factory"})]})},xe=function(){var e,t,n,c,s=Object(a.useContext)(oe).selectedBlock,i=Object(a.useContext)(M).account;return-1!==(null===s||void 0===s?void 0:s.seed)?Object(w.jsxs)("div",{className:"info-content content",children:[Object(w.jsx)("div",{className:"preview-container",children:Object(w.jsx)(V,{cellData:s})}),Object(w.jsxs)("div",{className:"info",children:["Owner ",">",(null===s||void 0===s||null===(e=s.owner)||void 0===e?void 0:e.id)!==i?"".concat(null===s||void 0===s||null===(t=s.owner)||void 0===t||null===(n=t.id)||void 0===n?void 0:n.slice(0,6),"..."):" You",Object(w.jsxs)("span",{className:"cords ele",children:["Co-ordinates ",">",Object(w.jsx)("span",{className:"high",children:" (".concat(null===s||void 0===s?void 0:s.x,", ").concat(null===s||void 0===s?void 0:s.y,")")})]}),Object(w.jsxs)("span",{className:"factory ele",children:["Factory ","> ",(null===s||void 0===s?void 0:s.factory)?Object(w.jsx)("span",{children:null===s||void 0===s||null===(c=s.factory)||void 0===c?void 0:c.name}):Object(w.jsx)("span",{children:"None"})," "]}),Object(w.jsx)("div",{className:"ores ele",children:Object.keys(Q).map((function(e,t){return Object(w.jsxs)("div",{children:[Object(w.jsxs)("span",{className:"label",children:[Q[e].name," "]})," -> ",Y(s.seed,e)]},e)}))}),s.factory?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"produce ele",children:[Object(w.jsx)("div",{className:"name",children:Q[s.factory.type].name}),Y(s.seed,s.factory.type)," /hr"]})}):null]})]}):0!==(null===s||void 0===s?void 0:s.x)&&0!==(null===s||void 0===s?void 0:s.y)?Object(w.jsx)("div",{className:"info-content content",children:Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("span",{className:"cords",children:["Co-ordinates of this Land are"," ",Object(w.jsx)("span",{className:"high",children:"(".concat(null===s||void 0===s?void 0:s.x,", ").concat(null===s||void 0===s?void 0:s.x,")")})]}),Object(w.jsx)("span",{className:"prompt-big ele",children:"Unclaimed Land"}),Object(w.jsx)("span",{className:"prompt ele",children:"For Sale"})]})}):Object(w.jsxs)("div",{className:"info-content content landing",children:[Object(w.jsx)("div",{className:"preview-container",children:Object(w.jsx)(V,{cellData:s})}),Object(w.jsxs)("div",{className:"info ele",children:[Object(w.jsx)("div",{className:"prompt-big ",children:"MarsMello"}),Object(w.jsxs)("div",{className:"synopsis ele",children:["#BUIDL Industries on a digital and truly decentralised Mars! ",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"Bring Out Your Inner Musk! #BUIDL Industries on a digital and truly decentralised Mars! An Idle-Open World-Strategy-Economy-Simulation Game!"]})]})]})},he=function(e){var t=e.setIsOpen,n=Object(a.useContext)(oe).selectedBlock,c=Object(a.useContext)(M).removeFactory;return(null===n||void 0===n?void 0:n.factory)?Object(w.jsxs)("div",{className:"rmv-content content",children:[Object(w.jsxs)("span",{className:"prompt",children:["Do you want to remove the factory at",Object(w.jsx)("span",{className:"high",children:" (".concat(null===n||void 0===n?void 0:n.x,", ").concat(null===n||void 0===n?void 0:n.y,")")})," ?"]}),Object(w.jsx)("button",{onClick:function(){var e;c(null===n||void 0===n||null===(e=n.factory)||void 0===e?void 0:e.id),t(!1)},className:"rmv-factory",children:"Remove"})]}):Object(w.jsxs)("div",{className:"rmv-content content",children:[Object(w.jsx)("span",{className:"prompt",children:"No Factories in Inventory to place."}),Object(w.jsx)("button",{className:"buy-fact",children:"Buy a factory"})]})},ge=function(){var e=Object(a.useContext)(oe).selectedBlock,t=Object(a.useContext)(M),n=t.buyLand,c=t.getLandPrice,s=t.landPrice;return c(),Object(w.jsxs)("div",{className:"buy-content content",children:[Object(w.jsxs)("span",{className:"prompt",children:["Do you want to buy land at",Object(w.jsx)("span",{className:"high",children:" (".concat(null===e||void 0===e?void 0:e.x,", ").concat(null===e||void 0===e?void 0:e.y,")")}),"?"]}),Object(w.jsxs)("span",{className:"cost",children:[Object(w.jsx)(r.animated.span,{className:"value",children:s}),Object(w.jsx)("span",{className:"high",children:"MLO"})]}),Object(w.jsx)("button",{className:"buy-land",onClick:function(){return n(e.x,e.y)},children:"Buy"})]})},Ne=Object(a.memo)(ge),Ce=function(){var e=Object(a.useContext)(oe).selectedBlock;return Object(w.jsxs)("div",{className:"sell-content content",children:[Object(w.jsxs)("span",{className:"prompt",children:["Do you want to sell land at",Object(w.jsx)("span",{className:"high",children:" (".concat(null===e||void 0===e?void 0:e.x,", ").concat(null===e||void 0===e?void 0:e.y,")")})," ?"]}),Object(w.jsxs)("span",{className:"cost",children:[Object(w.jsx)("span",{className:"value",children:"1000"}),Object(w.jsx)("span",{className:"high",children:"MLO"})]}),Object(w.jsx)("button",{className:"sell-land",children:"Sell"})]})},we=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(fe,{setModalType:c,setIsModalOpen:o}),Object(w.jsx)(ve,{}),r&&Object(w.jsxs)(G,{className:"mini-menu-modal",setIsOpen:o,children:["info"===n&&Object(w.jsx)(xe,{setIsOpen:o}),"add"===n&&Object(w.jsx)(Oe,{setIsOpen:o}),"rmv"===n&&Object(w.jsx)(he,{setIsOpen:o}),"buy"===n&&Object(w.jsx)(Ne,{setIsOpen:o}),"sell"===n&&Object(w.jsx)(Ce,{setIsOpen:o})]})]})},ke=function(e){var t=e.handlePlotClick,n=e.owned,a=e.cellData,c=function(e){if(0===e.x&&0===e.y)return"spawn";if(-1===e.seed)return"locked";var t=e.seed%100;return t>90?"pixplot_4":t>80?"pixplot_3":t>60?"pixplot_2":t>30?"pixplot_1":"pixplot_0"}(a),s=a.seed.toString();return Object(w.jsxs)("div",{onClick:function(){return t(a)},className:"cell plot ".concat((a.x+a.y)%2?"":"bright"," owned-").concat(n),children:[Object(w.jsx)("img",{draggable:"false",src:"./assets/img/".concat(c,".png"),alt:"".concat(c,".png")}),(null===a||void 0===a?void 0:a.factory)?Object(w.jsx)("img",{draggable:"false",className:"factory",style:{top:"".concat(s[1],"%"),left:"".concat(s[0],"%")},src:"./assets/img/factories/factory_".concat(a.factory.type,".gif"),alt:"factory".concat(".png")}):null]})},Me=function(){return Object(w.jsx)("div",{className:"cell ".concat(Math.round(Math.random())?"bright cloud":"cloud"),children:Object(w.jsx)("img",{draggable:"false",src:"./assets/img/cloud.png",alt:""})})},Te=Object(a.memo)(ke),Ie=Object(a.memo)(Me),Se=function(){var e=Object(a.useContext)(oe),t=e.chunkCentre,n=e.dragBind,c=e.gridData,s=e.handlePlotClick,i=e.top,l=e.left,o=Object(a.useContext)(M).account,d=Array.from({length:31},(function(e,n){return n<5||n>=26?Array.from({length:31},(function(e,a){return{cloud:!0,x:a-15+t[0],y:15-n+t[1]}})):Array.from({length:31},(function(e,a){return a<5||a>=26?{cloud:!0,x:a-15+t[0],y:15-n+t[1]}:(null===c||void 0===c?void 0:c["".concat(a-15+t[0],",").concat(15-n+t[1])])||{seed:-1,x:a-15+t[0],y:15-n+t[1]}}))}));return Object(w.jsx)(r.animated.div,Object(ee.a)(Object(ee.a)({className:"grid-container"},n()),{},{children:Object(w.jsx)(r.animated.div,{className:"grid",style:{top:i,left:l},children:d.map((function(e,t){return Object(w.jsx)("div",{className:"row",children:e.map((function(e,n){var a;return(null===e||void 0===e?void 0:e.cloud)?Object(w.jsx)(Ie,{},[t-n]):Object(w.jsx)(Te,{handlePlotClick:s,cellData:(null===c||void 0===c?void 0:c["".concat(e.x,",").concat(e.y)])||e,block:[e.x,e.y],owned:o&&(null===e||void 0===e||null===(a=e.owner)||void 0===a?void 0:a.id)===o},[e.x,e.y])}))},t)}))})}))},Fe=function(){var e=Object(a.useContext)(oe).cellSize;return Object(w.jsx)(F,{children:Object(w.jsx)(de,{children:Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("style",{children:".cell{\n\t\t\t\t\t\t\theight:".concat(e,"px;\n\t\t\t\t\t\t\twidth:").concat(e,"px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t")}),Object(w.jsx)(Se,{}),Object(w.jsx)(we,{})]})})})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,607)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},Pe=n(602),De=n(603),_e=n(601),Be=new Pe.a({uri:"https://okexgraph.overclockedbrains.co/subgraphs/name/MarsMello",cache:new De.a,defaultOptions:{watchQuery:{fetchPolicy:"network-only",errorPolicy:"ignore"},query:{fetchPolicy:"network-only",errorPolicy:"all"}}});i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(_e.a,{client:Be,children:Object(w.jsx)(Fe,{})})}),document.getElementById("root")),Le()}},[[589,1,2]]]);
//# sourceMappingURL=main.7b270c00.chunk.js.map